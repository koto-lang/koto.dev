

  




<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Koto Programming Language</title>

    <link rel="mask-icon" href="/favicon.svg" />
    <link rel="icon" href="/favicon.svg" />

    
      <link rel="alternate" type="application/atom+xml" title="Feed" href="https://koto.dev/atom.xml">
    

    <script src="/uikit.min.js"></script>
    <script src="/uikit-icons.min.js"></script>

    
      <link rel="stylesheet" href="/bundle/main-Cr1cgR8E.css" />
      <script src="/bundle/colorScheme-BEIaVpeV.js"></script>
    

     
  </head>

  <body>
    <div uk-sticky="sel-target: .uk-navbar-container cls-active: uk-navbar-sticky">
  <nav class="navbar uk-navbar-container uk-navbar">

    <div class="uk-navbar-left">
      <ul class="uk-navbar-nav nav-logo-padding uk-hidden@s">
        <li>
          <a class="uk-navbar-item uk-hidden@s"
            uk-toggle="target: #mobile-nav; animation: uk-animation-slide-left"><span uk-icon="menu"></span>
          </a>
        </li>
      </ul>
      <a class="uk-navbar-item uk-logo nav-logo-padding" href="/">
        <img id="nav-logo" src="/koto.svg" />
      </a>
    </div>

    <div class="uk-navbar-right">

      <ul class="uk-navbar-nav uk-visible@s">
        <li>
          <a class="uk-navbar-item uk-text-capitalize" href="/about">
            About
          </a>
        </li>
        <li>
          <a class="uk-navbar-item uk-text-capitalize" href=/docs/0.16>
            Docs
          </a>
        </li>
        <li>
          <a class="uk-navbar-item uk-text-capitalize" href="/news">
            News
          </a>
        </li>
        <li>
          <a class="uk-navbar-item uk-text-capitalize" href=/play-0.16>
            Playground
          </a>
        </li>

        <li>
          <a class="uk-navbar-item" href="https://github.com/koto-lang/koto"><span uk-icon="github"></span>
          </a>
        </li>

        <li>
          <a class="uk-navbar-item" href="https://discord.gg/JeV8RuK4CT"><span uk-icon="discord"></span>
          </a>
        </li>

        <li>
          <a class="uk-navbar-item light-switch" id="light-switch-navbar">
            <img class="light-switch-icon" id="light-switch-navbar-icon" />
          </a>
        </li>

        <div class="navbar-extra-padding-right"></div>
      </ul>
    </div>
  </nav>
</div>


    

<div class="docs-sidebar uk-visible@s">
  <ul class="uk-nav uk-nav-default">
    

  
  
  






<meta name="docs-version" content="next">

<nav uk-dropnav>
  <div>Version: 0.17 (Unreleased)<span uk-drop-parent-icon></span></div>
  <div uk-dropdown="mode: click">
    <ul class="uk-nav uk-dropdown-nav">
      
        
        <li class=" uk-active ">
          <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;next&#x2F;language">0.17 (Unreleased)</a>
        </li>
      
        
        <li class="">
          <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;0.16&#x2F;language">0.16</a>
        </li>
      
        
        <li class="">
          <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;0.15&#x2F;language">0.15</a>
        </li>
      
        
        <li class="">
          <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;0.14&#x2F;language">0.14</a>
        </li>
      
        
        <li class="">
          <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;0.13&#x2F;language">0.13</a>
        </li>
      
    </ul>
  </div>
</nav>



<li class="uk-padding-small uk-padding-remove-horizontal">
  <form class="uk-search uk-search-default" onsubmit="return false;">
    <span uk-search-icon></span>
    <input id="docs-search-input" class="uk-search-input" type="search" placeholder="Search docs…" aria-label="Search"
      autocomplete="false">
  </form>
</li>



  </ul>

  <nav class="docs-sidebar-scroll-area" role="navigation">
    
  <ul class="uk-nav uk-nav-default" id="docs-navbar">
  <div class="uk-hidden@s">
    

  
  
  






<meta name="docs-version" content="next">

<nav uk-dropnav>
  <div>Version: 0.17 (Unreleased)<span uk-drop-parent-icon></span></div>
  <div uk-dropdown="mode: click">
    <ul class="uk-nav uk-dropdown-nav">
      
        
        <li class=" uk-active ">
          <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;next&#x2F;language">0.17 (Unreleased)</a>
        </li>
      
        
        <li class="">
          <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;0.16&#x2F;language">0.16</a>
        </li>
      
        
        <li class="">
          <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;0.15&#x2F;language">0.15</a>
        </li>
      
        
        <li class="">
          <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;0.14&#x2F;language">0.14</a>
        </li>
      
        
        <li class="">
          <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;0.13&#x2F;language">0.13</a>
        </li>
      
    </ul>
  </div>
</nav>



<li class="uk-padding-small uk-padding-remove-horizontal">
  <form class="uk-search uk-search-default" onsubmit="return false;">
    <span uk-search-icon></span>
    <input id="docs-search-input" class="uk-search-input" type="search" placeholder="Search docs…" aria-label="Search"
      autocomplete="false">
  </form>
</li>



  </div>

  
  

  
    

    <li class="uk-nav-header uk-active ">
      <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;next&#x2F;language&#x2F;">
        Language Guide
      </a>
    </li>

    
      

      
        <ul class="uk-nav-sub uk-nav-default">
          
            
            <li>
              <a href="https://koto.dev/docs/next/language/#language-basics">Language Basics</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#lists">Lists</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#tuples">Tuples</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#strings">Strings</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#functions">Functions</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#maps">Maps</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#core-library">Core Library</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#conditional-expressions">Conditional Expressions</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#loops">Loops</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#iterators">Iterators</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#value-unpacking">Value Unpacking</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#ranges">Ranges</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#type-checks">Type Checks</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#string-formatting">String Formatting</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#advanced-functions">Advanced Functions</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#generators">Generators</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#objects-and-metamaps">Objects and Metamaps</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#error-handling">Error Handling</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#modules">Modules</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#testing">Testing</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#"></a>
            </li>
            
          
        </ul>
      
    
  
    

    <li class="uk-nav-header">
      <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;next&#x2F;core&#x2F;">
        Core Library
      </a>
    </li>

    
  
    

    <li class="uk-nav-header">
      <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;next&#x2F;api&#x2F;">
        Rust API
      </a>
    </li>

    
  
    

    <li class="uk-nav-header">
      <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;next&#x2F;libs&#x2F;">
        Extra Libs
      </a>
    </li>

    
  
    

    <li class="uk-nav-header">
      <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;next&#x2F;cli&#x2F;">
        Koto CLI
      </a>
    </li>

    
  
</ul>


  </nav>
</div>

<div class="docs-section uk-section">
  <div class="uk-container uk-container-small uk-width-expand">
    <article id="docs-article" class="uk-align-left uk-width-expand">
      

<h1 id="the-koto-language-guide"><a class="zola-anchor" href="#the-koto-language-guide" aria-label="Anchor link for: the-koto-language-guide">The Koto Language Guide</a></h1>
<p>As you're reading this guide, you're encouraged to play around with the examples to get a feel
for the language.</p>
<p>When you see a <span uk-icon="play"></span> icon below an example,
clicking it will open the example in the <a href="/play">Koto Playground</a>,
where you can run the code and see what happens as you make changes.</p>
<p>You can also try out the examples using the <a href="../cli">Koto CLI</a>.</p>
<h2 id="language-basics"><a class="zola-anchor" href="#language-basics" aria-label="Anchor link for: language-basics">Language Basics</a></h2>
<p>Koto programs contain a series of expressions that are evaluated in
top-to-bottom order by Koto's runtime.</p>
<p>As an example, this simple script prints a friendly greeting.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">name</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>World<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hello, </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">name</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=name%20%3D%20%27World%27%0Aprint%20%27Hello%2C%20%7Bname%7D%21%27" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="comments"><a class="zola-anchor" href="#comments" aria-label="Anchor link for: comments">Comments</a></h3>
<p>Single-line comments start with a <code>#</code>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> This is a comment, everything until the end of the line is ignored.
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20This%20is%20a%20comment%2C%20everything%20until%20the%20end%20of%20the%20line%20is%20ignored%2E" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Multi-line comments start with <code>#-</code> and end with <code>-#</code>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-block z-koto"><span class="z-punctuation z-definition z-comment z-koto">#-</span>
</span></span><span class="z-source z-koto"><span class="z-comment z-block z-koto">This is a
</span></span><span class="z-source z-koto"><span class="z-comment z-block z-koto">multi-line
</span></span><span class="z-source z-koto"><span class="z-comment z-block z-koto">comment.
</span></span><span class="z-source z-koto"><span class="z-comment z-block z-koto">-#</span>
</span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%2D%0AThis%20is%20a%0Amulti%2Dline%0Acomment%2E%0A%2D%23" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="numbers-and-arithmetic"><a class="zola-anchor" href="#numbers-and-arithmetic" aria-label="Anchor link for: numbers-and-arithmetic">Numbers and Arithmetic</a></h3>
<p>Numbers and arithmetic are expressed in a familiar way.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 1
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Addition
</span></span><span class="z-source z-koto"><span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 2
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Negation and Subtraction
</span></span><span class="z-source z-koto"><span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-arithmetic z-koto">-</span> <span class="z-constant z-numeric z-koto">10</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: -11
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Multiplication
</span></span><span class="z-source z-koto"><span class="z-constant z-numeric z-koto">3</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-constant z-numeric z-koto">4</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 12
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Division
</span></span><span class="z-source z-koto"><span class="z-constant z-numeric z-koto">9</span> <span class="z-keyword z-operator z-arithmetic z-koto">/</span> <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 4.5
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Remainder
</span></span><span class="z-source z-koto"><span class="z-constant z-numeric z-koto">12.5</span> <span class="z-keyword z-operator z-arithmetic z-koto">%</span> <span class="z-constant z-numeric z-koto">5</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 2.5
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Power / Exponentiation
</span></span><span class="z-source z-koto"><span class="z-constant z-numeric z-koto">2</span> ^ <span class="z-constant z-numeric z-koto">3</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 8
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%201%0A%23%3A%201%0A%0A%23%20Addition%0Aprint%201%20%2B%201%0A%23%3A%202%0A%0A%23%20Negation%20and%20Subtraction%0Aprint%20%2D1%20%2D%2010%0A%23%3A%20%2D11%0A%0A%23%20Multiplication%0Aprint%203%20%2A%204%0A%23%3A%2012%0A%0A%23%20Division%0Aprint%209%20%2F%202%0A%23%3A%204%2E5%0A%0A%23%20Remainder%0Aprint%2012%2E5%20%25%205%0A%23%3A%202%2E5%0A%0A%23%20Power%20%2F%20Exponentiation%0Aprint%202%20%5E%203%0A%23%3A%208" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Underscores can be used as separators to aid readability in long numbers.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto">1_000_000
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 1000000
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%201%5F000%5F000%0A%23%3A%201000000" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="parentheses"><a class="zola-anchor" href="#parentheses" aria-label="Anchor link for: parentheses">Parentheses</a></h4>
<p>Arithmetic operations follow the
<a href="https://en.wikipedia.org/wiki/Order_of_operations#Conventional_order">conventional order of precedence</a>.
Parentheses can be used to group expressions as needed.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Without parentheses, multiplication is performed before addition
</span></span><span class="z-source z-koto"><span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">2</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-constant z-numeric z-koto">3</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">4</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 11
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> With parentheses, the additions are performed first
</span></span><span class="z-source z-koto"></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">3</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">4</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 21
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20Without%20parentheses%2C%20multiplication%20is%20performed%20before%20addition%0Aprint%201%20%2B%202%20%2A%203%20%2B%204%0A%23%3A%2011%0A%23%20With%20parentheses%2C%20the%20additions%20are%20performed%20first%0Aprint%20%281%20%2B%202%29%20%2A%20%283%20%2B%204%29%0A%23%3A%2021" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="non-decimal-numbers"><a class="zola-anchor" href="#non-decimal-numbers" aria-label="Anchor link for: non-decimal-numbers">Non-decimal Numbers</a></h4>
<p>Numbers can be expressed with non-decimal bases.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Hexadecimal numbers begin with 0x
</span></span><span class="z-source z-koto"><span class="z-constant z-numeric z-integer z-hexadecimal z-koto">0xcafe</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 51966
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Octal numbers begin with 0o
</span></span><span class="z-source z-koto"><span class="z-constant z-numeric z-integer z-octal z-koto">0o7060</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 3632
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Binary numbers begin with 0b
</span></span><span class="z-source z-koto"><span class="z-constant z-numeric z-integer z-binary z-koto">0b1001</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 9
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20Hexadecimal%20numbers%20begin%20with%200x%0Aprint%200xcafe%0A%23%3A%2051966%0A%0A%23%20Octal%20numbers%20begin%20with%200o%0Aprint%200o7060%0A%23%3A%203632%0A%0A%23%20Binary%20numbers%20begin%20with%200b%0Aprint%200b1001%0A%23%3A%209" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="booleans"><a class="zola-anchor" href="#booleans" aria-label="Anchor link for: booleans">Booleans</a></h3>
<p>Booleans are declared with the <code>true</code> and <code>false</code> keywords, and combined using
the <code>and</code> and <code>or</code> operators.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-constant z-language z-koto">true</span> <span class="z-keyword z-operator z-word z-koto">and</span> <span class="z-constant z-language z-koto">false</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: false
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-constant z-language z-koto">true</span> <span class="z-keyword z-operator z-word z-koto">or</span> <span class="z-constant z-language z-koto">false</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: true
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20true%20and%20false%0A%23%3A%20false%0A%0Aprint%20true%20or%20false%0A%23%3A%20true" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Booleans can be negated with the <code>not</code> operator.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-operator z-word z-koto">not</span> <span class="z-constant z-language z-koto">true</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: false
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-operator z-word z-koto">not</span> <span class="z-constant z-language z-koto">false</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: true
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20not%20true%0A%23%3A%20false%0A%0Aprint%20not%20false%0A%23%3A%20true" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Values can be compared for equality with the <code>==</code> and <code>!=</code> operators.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-comparison z-koto">==</span> <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: true
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-constant z-numeric z-koto">99</span> <span class="z-keyword z-operator z-comparison z-koto">!=</span> <span class="z-constant z-numeric z-koto">100</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: true
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%201%20%2B%201%20%3D%3D%202%0A%23%3A%20true%0A%0Aprint%2099%20%21%3D%20100%0A%23%3A%20true" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="null"><a class="zola-anchor" href="#null" aria-label="Anchor link for: null">Null</a></h3>
<p>The <code>null</code> keyword is used to declare a value of type <code>Null</code>,
which indicates the absence of a value.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-constant z-language z-koto">null</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: null
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20null%0A%23%3A%20null" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="truthiness"><a class="zola-anchor" href="#truthiness" aria-label="Anchor link for: truthiness">Truthiness</a></h4>
<p>In boolean contexts (such as logical operations), <code>null</code> is treated as being
equivalent to <code>false</code>. Every other value in Koto evaluates as <code>true</code>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-operator z-word z-koto">not</span> <span class="z-constant z-language z-koto">null</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: true
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-constant z-language z-koto">null</span> <span class="z-keyword z-operator z-word z-koto">or</span> <span class="z-constant z-numeric z-koto">42</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 42
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20not%20null%0A%23%3A%20true%0A%0Aprint%20null%20or%2042%0A%23%3A%2042" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="assigning-variables"><a class="zola-anchor" href="#assigning-variables" aria-label="Anchor link for: assigning-variables">Assigning Variables</a></h3>
<p>Values are assigned to named identifiers with <code>=</code>, and can be freely reassigned.
Named values like this are known as <em>variables</em>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Assign the value `42` to `x`
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">42</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 42
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Replace the existing value of `x`
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-language z-koto">true</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: true
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20Assign%20the%20value%20%6042%60%20to%20%60x%60%0Ax%20%3D%2042%0Aprint%20x%0A%23%3A%2042%0A%0A%23%20Replace%20the%20existing%20value%20of%20%60x%60%0Ax%20%3D%20true%0Aprint%20x%0A%23%3A%20true" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

The result of an assignment is the value that's being assigned, so chained assignments are possible.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 1
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">b</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">100</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 100
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">b</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 200
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20x%20%3D%201%0A%23%3A%201%0A%0Aprint%20a%20%3D%20b%20%3D%20100%0A%23%3A%20100%0Aprint%20a%20%2B%20b%0A%23%3A%20200" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

<a href="https://en.wikipedia.org/wiki/Augmented_assignment">Compound assignment</a> operators are also available.
For example, <code>x *= y</code> is a simpler way of writing <code>x = x * y</code>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">100</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">+=</span> <span class="z-constant z-numeric z-koto">11</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 111
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 111
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">*=</span> <span class="z-constant z-numeric z-koto">10</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 1110
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 1110
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=a%20%3D%20100%0Aprint%20a%20%2B%3D%2011%0A%23%3A%20111%0Aprint%20a%0A%23%3A%20111%0A%0Aprint%20a%20%2A%3D%2010%0A%23%3A%201110%0Aprint%20a%0A%23%3A%201110" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="debug"><a class="zola-anchor" href="#debug" aria-label="Anchor link for: debug">Debug</a></h3>
<p>The <code>debug</code> keyword allows you to quickly display a value while working on a
program.</p>
<p>It prints the result of an expression, prefixed with its line number and the
original expression as a string.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">10</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">20</span>
</span><span class="z-source z-koto"><span class="z-keyword z-other z-koto">debug</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-arithmetic z-koto">/</span> <span class="z-constant z-numeric z-koto">10</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: [2] x / 10: 3.0
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%2010%20%2B%2020%0Adebug%20x%20%2F%2010%0A%23%3A%20%5B2%5D%20x%20%2F%2010%3A%203%2E0" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

When using <code>debug</code>, the displayed value is also the result of the expression,
which can be useful if you want to quickly get feedback during development.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-koto">debug</span> <span class="z-constant z-numeric z-koto">2</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: [1] 2 + 2: 4
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 4
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%20debug%202%20%2B%202%0A%23%3A%20%5B1%5D%202%20%2B%202%3A%204%0Aprint%20x%0A%23%3A%204" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="semicolons"><a class="zola-anchor" href="#semicolons" aria-label="Anchor link for: semicolons">Semicolons</a></h3>
<p>Expressions are typically placed on separate lines,
but if necessary they can be separated with semicolons.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-terminator z-koto">;</span> <span class="z-variable z-other z-koto">b</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-terminator z-koto">;</span> <span class="z-variable z-other z-koto">c</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">b</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">c</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 3
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=a%20%3D%201%3B%20b%20%3D%202%3B%20c%20%3D%20a%20%2B%20b%0Aprint%20c%0A%23%3A%203" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="lists"><a class="zola-anchor" href="#lists" aria-label="Anchor link for: lists">Lists</a></h2>
<p>Lists in Koto are created with <code>[]</code> square brackets and can contain a mix of
different value types.</p>
<p>Access list elements by <em>index</em> using square brackets, starting from <code>0</code>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">99</span>, <span class="z-constant z-language z-koto">null</span>, <span class="z-constant z-language z-koto">true</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">0</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 99
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: null
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto"> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-language z-koto">false</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: false
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%20%5B99%2C%20null%2C%20true%5D%0Aprint%20x%5B0%5D%0A%23%3A%2099%0Aprint%20x%5B1%5D%0A%23%3A%20null%0A%0Ax%5B2%5D%20%3D%20false%0Aprint%20x%5B2%5D%0A%23%3A%20false" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Once a list has been created, its underlying data is shared between other
instances of the same list.
Changes to one instance of the list are reflected in the other.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Assign a list to x
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">10</span>, <span class="z-constant z-numeric z-koto">20</span>, <span class="z-constant z-numeric z-koto">30</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Assign another instance of the list to y
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">y</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Modify the list through y
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">y</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto"> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">99</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> The change to y is also reflected in x
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: [10, 99, 30]
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20Assign%20a%20list%20to%20x%0Ax%20%3D%20%5B10%2C%2020%2C%2030%5D%0A%0A%23%20Assign%20another%20instance%20of%20the%20list%20to%20y%0Ay%20%3D%20x%0A%0A%23%20Modify%20the%20list%20through%20y%0Ay%5B1%5D%20%3D%2099%0A%0A%23%20The%20change%20to%20y%20is%20also%20reflected%20in%20x%0Aprint%20x%0A%23%3A%20%5B10%2C%2099%2C%2030%5D" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

If no value is given between commas then <code>null</code> is added to the list at that position.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">10</span>, , <span class="z-constant z-numeric z-koto">30</span>, , <span class="z-constant z-numeric z-koto">50</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: [10, null, 30, null, 50]
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20%5B10%2C%20%2C%2030%2C%20%2C%2050%5D%0A%23%3A%20%5B10%2C%20null%2C%2030%2C%20null%2C%2050%5D" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="joining-lists"><a class="zola-anchor" href="#joining-lists" aria-label="Anchor link for: joining-lists">Joining Lists</a></h3>
<p>The <code>+</code> operator allows lists to be joined together, creating a new list that
contains their concatenated elements.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">98</span>, <span class="z-constant z-numeric z-koto">99</span>, <span class="z-constant z-numeric z-koto">100</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">b</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">b</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: [98, 99, 100, 1, 2, 3]
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=a%20%3D%20%5B98%2C%2099%2C%20100%5D%0Ab%20%3D%20a%20%2B%20%5B1%2C%202%2C%203%5D%0Aprint%20b%0A%23%3A%20%5B98%2C%2099%2C%20100%2C%201%2C%202%2C%203%5D" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="tuples"><a class="zola-anchor" href="#tuples" aria-label="Anchor link for: tuples">Tuples</a></h2>
<p>Tuples in Koto are similar to lists,
but are designed for sequences of values that have a fixed structure.</p>
<p>Unlike lists, tuples can't be resized after creation,
and values that are contained in the tuple can't be replaced.</p>
<p>Tuples are declared with a series of expressions separated by commas.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">100</span>, <span class="z-constant z-language z-koto">true</span>, <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (100, true, -1)
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%20100%2C%20true%2C%20%2D1%0Aprint%20x%0A%23%3A%20%28100%2C%20true%2C%20%2D1%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Parentheses can be used for grouping to avoid ambiguity.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">, </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">4</span>, <span class="z-constant z-numeric z-koto">5</span>, <span class="z-constant z-numeric z-koto">6</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: ((1, 2, 3), (4, 5, 6))
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20%281%2C%202%2C%203%29%2C%20%284%2C%205%2C%206%29%0A%23%3A%20%28%281%2C%202%2C%203%29%2C%20%284%2C%205%2C%206%29%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

You can access tuple elements by index using square brackets, starting from <code>0</code>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-language z-koto">false</span>, <span class="z-constant z-numeric z-koto">10</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (false, 10)
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">0</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: false
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 10
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">y</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-language z-koto">true</span>, <span class="z-constant z-numeric z-koto">20</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (true, 20)
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>, <span class="z-variable z-other z-koto">y</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: ((false, 10), (true, 20))
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20x%20%3D%20false%2C%2010%0A%23%3A%20%28false%2C%2010%29%0Aprint%20x%5B0%5D%0A%23%3A%20false%0Aprint%20x%5B1%5D%0A%23%3A%2010%0A%0Aprint%20y%20%3D%20true%2C%2020%0A%23%3A%20%28true%2C%2020%29%0Aprint%20x%2C%20y%0A%23%3A%20%28%28false%2C%2010%29%2C%20%28true%2C%2020%29%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

If no value is given between commas then <code>null</code> is added to the tuple at that position.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">10</span>, , <span class="z-constant z-numeric z-koto">20</span>, , <span class="z-constant z-numeric z-koto">30</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (10, null, 20, null, 30)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%2010%2C%20%2C%2020%2C%20%2C%2030%0Aprint%20x%0A%23%3A%20%2810%2C%20null%2C%2020%2C%20null%2C%2030%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="empty-and-single-element-tuples"><a class="zola-anchor" href="#empty-and-single-element-tuples" aria-label="Anchor link for: empty-and-single-element-tuples">Empty and Single Element Tuples</a></h3>
<p>An empty tuple (a tuple that contains zero elements) is created using empty parentheses.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: ()
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%20%28%29%0Aprint%20x%0A%23%3A%20%28%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

A tuple that contains a single element can be created by including a trailing comma.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> An expression inside parentheses simply resolves to the result of the expression
</span></span><span class="z-source z-koto"></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 3
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> To place the result of the expression in a tuple, use a trailing comma
</span></span><span class="z-source z-koto"></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">2</span>,<span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (3)
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Single element tuples can also be created without parentheses
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">2</span>,
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (3)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20An%20expression%20inside%20parentheses%20simply%20resolves%20to%20the%20result%20of%20the%20expression%0Aprint%20%281%20%2B%202%29%0A%23%3A%203%0A%0A%23%20To%20place%20the%20result%20of%20the%20expression%20in%20a%20tuple%2C%20use%20a%20trailing%20comma%0Aprint%20%281%20%2B%202%2C%29%0A%23%3A%20%283%29%0A%0A%23%20Single%20element%20tuples%20can%20also%20be%20created%20without%20parentheses%0Ax%20%3D%201%20%2B%202%2C%0Aprint%20x%0A%23%3A%20%283%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="joining-tuples"><a class="zola-anchor" href="#joining-tuples" aria-label="Anchor link for: joining-tuples">Joining Tuples</a></h3>
<p>The <code>+</code> operator allows tuples to be joined together,
creating a new tuple containing their concatenated elements.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">b</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">4</span>, <span class="z-constant z-numeric z-koto">5</span>, <span class="z-constant z-numeric z-koto">6</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">b</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (1, 2, 3, 4, 5, 6)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=a%20%3D%201%2C%202%2C%203%0Ab%20%3D%20a%20%2B%20%284%2C%205%2C%206%29%0Aprint%20b%0A%23%3A%20%281%2C%202%2C%203%2C%204%2C%205%2C%206%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="tuple-mutability"><a class="zola-anchor" href="#tuple-mutability" aria-label="Anchor link for: tuple-mutability">Tuple Mutability</a></h3>
<p>While tuples have a fixed structure and its contained values can't be
replaced, <a href="https://en.wikipedia.org/wiki/Immutable_object"><em>mutable</em></a> value types (like <a href="https://koto.dev/docs/next/language/#lists">lists</a>) can be
modified while they're contained in tuples.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> A Tuple containing two lists
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-meta z-parens">, </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">4</span>, <span class="z-constant z-numeric z-koto">5</span>, <span class="z-constant z-numeric z-koto">6</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Modify the second list in the tuple
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">0</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto"> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">99</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: ([1, 2, 3], [99, 5, 6])
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20A%20Tuple%20containing%20two%20lists%0Ax%20%3D%20%28%5B1%2C%202%2C%203%5D%2C%20%5B4%2C%205%2C%206%5D%29%0A%0A%23%20Modify%20the%20second%20list%20in%20the%20tuple%0Ax%5B1%5D%5B0%5D%20%3D%2099%0Aprint%20x%0A%23%3A%20%28%5B1%2C%202%2C%203%5D%2C%20%5B99%2C%205%2C%206%5D%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="strings"><a class="zola-anchor" href="#strings" aria-label="Anchor link for: strings">Strings</a></h2>
<p>Strings in Koto contain a sequence of <a href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a> encoded characters,
and can be declared using <code>'</code> or <code>"</code> quotes.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hello, World!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Hello, World!
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>Welcome to Koto 👋<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Welcome to Koto 👋
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20%27Hello%2C%20World%21%27%0A%23%3A%20Hello%2C%20World%21%0A%0Aprint%20%22Welcome%20to%20Koto%20%F0%9F%91%8B%22%0A%23%3A%20Welcome%20to%20Koto%20%F0%9F%91%8B" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Strings can start on one line and finish on another.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>This is a string
</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">that spans
</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">several lines.<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: This is a string
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: that spans
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: several lines.
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20%27This%20is%20a%20string%0Athat%20spans%0Aseveral%20lines%2E%27%0A%23%3A%20This%20is%20a%20string%0A%23%3A%20that%20spans%0A%23%3A%20several%20lines%2E" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Strings can be joined together with the <code>+</code> operator.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>a<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Bc<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Def<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: aBcDef
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20%27a%27%20%2B%20%27Bc%27%20%2B%20%27Def%27%0A%23%3A%20aBcDef" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="string-interpolation"><a class="zola-anchor" href="#string-interpolation" aria-label="Anchor link for: string-interpolation">String Interpolation</a></h3>
<p>Variables can be easily included in a string by surrounding them with <code>{}</code> curly
braces.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">xyz</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">123</span>
</span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>The value of xyz is </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">xyz</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: The value of xyz is 123
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=xyz%20%3D%20123%0Aprint%20%27The%20value%20of%20xyz%20is%20%7Bxyz%7D%27%0A%23%3A%20The%20value%20of%20xyz%20is%20123" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Including variables in a string this way is known as <em>string interpolation</em>.</p>
<p>Simple expressions can also be interpolated using the same syntax.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>2 plus 3 is </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-constant z-numeric z-koto">2</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">.<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 2 plus 3 is 5.
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20%272%20plus%203%20is%20%7B2%20%2B%203%7D%2E%27%0A%23%3A%202%20plus%203%20is%205%2E" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="string-escape-codes"><a class="zola-anchor" href="#string-escape-codes" aria-label="Anchor link for: string-escape-codes">String Escape Codes</a></h3>
<p>Strings can contain the following escape codes to define special characters,
all of which start with a <code>\</code>.</p>
<ul>
<li><code>\n</code>: Newline</li>
<li><code>\r</code>: Carriage Return</li>
<li><code>\t</code>: Tab</li>
<li><code>\'</code>: Single quote</li>
<li><code>\"</code>: Double quote</li>
<li><code>\\</code>: Backslash</li>
<li><code>\{</code>: Interpolation start</li>
<li><code>\u{NNNNNN}</code>: Unicode character
<ul>
<li>Up to 6 hexadecimal digits can be included within the <code>{}</code> braces.
The maximum value is <code>\u{10ffff}</code>.</li>
</ul>
</li>
<li><code>\xNN</code>: ASCII character
<ul>
<li>Exactly 2 hexadecimal digits follow the <code>\x</code>.</li>
</ul>
</li>
</ul>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span><span class="z-constant z-character z-escape z-koto">\{</span><span class="z-constant z-character z-escape z-koto">\&#39;</span><span class="z-constant z-character z-escape z-koto">\&quot;</span>}<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: {&#39;&quot;}
</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hi <span class="z-constant z-character z-escape z-koto">\u{1F44B}</span><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Hi 👋
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20%27%5C%7B%5C%27%5C%22%7D%27%0A%23%3A%20%7B%27%22%7D%0Aprint%20%27Hi%20%5Cu%7B1F44B%7D%27%0A%23%3A%20Hi%20%F0%9F%91%8B" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="continuing-a-long-line"><a class="zola-anchor" href="#continuing-a-long-line" aria-label="Anchor link for: continuing-a-long-line">Continuing a Long Line</a></h3>
<p>The end of a line can be escaped with a <code>\</code>, which will skip the
newline and any leading whitespace on the next line.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>This string \
</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto">       doesn&#39;t contain \
</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto">       newlines.<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: This string doesn&#39;t contain newlines.
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%22This%20string%20%5C%0A%20%20%20%20%20%20%20doesn%27t%20contain%20%5C%0A%20%20%20%20%20%20%20newlines%2E%22%0Aprint%20foo%0A%23%3A%20This%20string%20doesn%27t%20contain%20newlines%2E" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="string-indexing"><a class="zola-anchor" href="#string-indexing" aria-label="Anchor link for: string-indexing">String Indexing</a></h3>
<p>Individual <em>bytes</em> of a string can be accessed via indexing with <code>[]</code> braces.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>abcdef<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: d
</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>xyz<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span><span class="z-keyword z-operator z-bitwise z-koto">..</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: yz
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20%27abcdef%27%5B3%5D%0A%23%3A%20d%0Aprint%20%27xyz%27%5B1%2E%2E%5D%0A%23%3A%20yz" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Care must be taken when using indexing with strings that could contain
non-<a href="https://en.wikipedia.org/wiki/ASCII">ASCII</a> data.
If the indexed bytes would produce invalid UTF-8 data then an
error will be thrown.
To access a string's Unicode characters individually, see <a href="../core/string#chars"><code>string.chars</code></a>.</p>
<h3 id="single-or-double-quotes"><a class="zola-anchor" href="#single-or-double-quotes" aria-label="Anchor link for: single-or-double-quotes">Single or Double Quotes</a></h3>
<p>Both single <code>'</code> and double <code>"</code> quotes are valid for defining strings in Koto
and have the same meaning.</p>
<p>A practical reason to choose one over the other is that the alternate
quote type can be used in a string without needing to use escape characters.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>This string has to escape its <span class="z-constant z-character z-escape z-koto">\&#39;</span>single quotes<span class="z-constant z-character z-escape z-koto">\&#39;</span>.<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: This string has to escape its &#39;single quotes&#39;.
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>This string contains unescaped &#39;single quotes&#39;.<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: This string contains unescaped &#39;single quotes&#39;.
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20%27This%20string%20has%20to%20escape%20its%20%5C%27single%20quotes%5C%27%2E%27%0A%23%3A%20This%20string%20has%20to%20escape%20its%20%27single%20quotes%27%2E%0A%0Aprint%20%22This%20string%20contains%20unescaped%20%27single%20quotes%27%2E%22%0A%23%3A%20This%20string%20contains%20unescaped%20%27single%20quotes%27%2E" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="raw-strings"><a class="zola-anchor" href="#raw-strings" aria-label="Anchor link for: raw-strings">Raw Strings</a></h3>
<p>When a string contains a lot of special characters, it can be preferable to use
a <em>raw string</em>.</p>
<p>Raw strings ignore escape characters and interpolated expressions,
providing the raw contents of the string between its <em>delimiters</em>.</p>
<p>Raw strings use single or double quotes as the delimiter, prefixed with an <code>r</code>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-raw z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">r&#39;</span>This string contains special characters: {foo}\n\t.<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: This string contains special characters: {foo}\n\t.
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20r%27This%20string%20contains%20special%20characters%3A%20%7Bfoo%7D%5Cn%5Ct%2E%27%0A%23%3A%20This%20string%20contains%20special%20characters%3A%20%7Bfoo%7D%5Cn%5Ct%2E" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

For more complex string contents, the delimiter can be extended using up to 255
<code>#</code> characters after the <code>r</code> prefix,</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-raw z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">r#&#39;</span>This string contains &quot;both&quot; &#39;quote&#39; types.<span class="z-punctuation z-definition z-string z-end z-koto">&#39;#</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: This string contains &quot;both&quot; &#39;quote&#39; types.
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-raw z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">r##&#39;</span>This string also includes a &#39;#&#39; symbol.<span class="z-punctuation z-definition z-string z-end z-koto">&#39;##</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: This string also includes a &#39;#&#39; symbol.
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20r%23%27This%20string%20contains%20%22both%22%20%27quote%27%20types%2E%27%23%0A%23%3A%20This%20string%20contains%20%22both%22%20%27quote%27%20types%2E%0A%0Aprint%20r%23%23%27This%20string%20also%20includes%20a%20%27%23%27%20symbol%2E%27%23%23%0A%23%3A%20This%20string%20also%20includes%20a%20%27%23%27%20symbol%2E" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="functions"><a class="zola-anchor" href="#functions" aria-label="Anchor link for: functions">Functions</a></h2>
<p>Functions in Koto are created using a pair of vertical bars (<code>||</code>),
with the function's <em>arguments</em> listed between the bars.
The <em>body</em> of the function follows the vertical bars.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">hi</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hello!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">add</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">x</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">y</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">y</span>
</span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=hi%20%3D%20%7C%7C%20%27Hello%21%27%0Aadd%20%3D%20%7Cx%2C%20y%7C%20x%20%2B%20y" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Functions are <em>called</em> with arguments contained in <code>()</code> parentheses.
The body of the function is evaluated and the result is returned to the caller.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">hi</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hello!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">hi</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Hello!
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">add</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">x</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">y</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">y</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">add</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">50</span>, <span class="z-constant z-numeric z-koto">5</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 55
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=hi%20%3D%20%7C%7C%20%27Hello%21%27%0Aprint%20hi%28%29%0A%23%3A%20Hello%21%0A%0Aadd%20%3D%20%7Cx%2C%20y%7C%20x%20%2B%20y%0Aprint%20add%2850%2C%205%29%0A%23%3A%2055" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

A function's body can be an indented block, where the last
expression in the body is evaluated as the function's result.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">x</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">y</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">z</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">*=</span> <span class="z-constant z-numeric z-koto">100</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">y</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">*=</span> <span class="z-constant z-numeric z-koto">10</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">y</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">z</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span>, <span class="z-constant z-numeric z-koto">4</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 234
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=f%20%3D%20%7Cx%2C%20y%2C%20z%7C%0A%20%20x%20%2A%3D%20100%0A%20%20y%20%2A%3D%2010%0A%20%20x%20%2B%20y%20%2B%20z%0Aprint%20f%282%2C%203%2C%204%29%0A%23%3A%20234" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="optional-call-parentheses"><a class="zola-anchor" href="#optional-call-parentheses" aria-label="Anchor link for: optional-call-parentheses">Optional Call Parentheses</a></h3>
<p>In simple expressions, the parentheses for function call arguments are optional and can be omitted.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">square</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">x</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">square</span> <span class="z-constant z-numeric z-koto">8</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 64
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">add</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">x</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">y</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">y</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">add</span> <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 5
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">square</span> <span class="z-variable z-other z-koto">add</span> <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span> <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Equivalent to square(add(2, 3))
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 25
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">first</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">x</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">0</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">first</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>a<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>b<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"> <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Equivalent to first((&#39;a&#39;, &#39;b&#39;))
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: a
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=square%20%3D%20%7Cx%7C%20x%20%2A%20x%0Aprint%20square%208%0A%23%3A%2064%0A%0Aadd%20%3D%20%7Cx%2C%20y%7C%20x%20%2B%20y%0Aprint%20add%202%2C%203%0A%23%3A%205%0A%0Aprint%20square%20add%202%2C%203%20%23%20Equivalent%20to%20square%28add%282%2C%203%29%29%0A%23%3A%2025%0A%0Afirst%20%3D%20%7Cx%7C%20x%5B0%5D%0Aprint%20first%20%28%27a%27%2C%20%27b%27%29%20%23%20Equivalent%20to%20first%28%28%27a%27%2C%20%27b%27%29%29%0A%23%3A%20a" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="return"><a class="zola-anchor" href="#return" aria-label="Anchor link for: return">Return</a></h3>
<p>When the function should be exited early, the <code>return</code> keyword can be used.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-flow z-koto">return</span> <span class="z-constant z-numeric z-koto">42</span>
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> This expression won&#39;t be reached
</span></span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-variable z-other z-koto">n</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 42
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=f%20%3D%20%7Cn%7C%0A%20%20return%2042%0A%20%20%23%20This%20expression%20won%27t%20be%20reached%0A%20%20n%20%2A%20n%0Aprint%20f%20%2D1%0A%23%3A%2042" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

If a value isn't provided to <code>return</code>, then the returned value is <code>null</code>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-flow z-koto">return</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-variable z-other z-koto">n</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-constant z-numeric z-koto">123</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: null
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=f%20%3D%20%7Cn%7C%0A%20%20return%0A%20%20n%20%2A%20n%0Aprint%20f%20123%0A%23%3A%20null" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="function-piping"><a class="zola-anchor" href="#function-piping" aria-label="Anchor link for: function-piping">Function Piping</a></h3>
<p>The arrow operator (<code>-&gt;</code>) can be used to pass the result of one function to
another, working from left to right. This is known as <em>function piping</em>,
and can aid readability when working with a long chain of function calls.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">add</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">x</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">y</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">y</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">multiply</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">x</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">y</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-variable z-other z-koto">y</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">square</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">x</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Chained function calls can be a bit hard to follow for the reader.
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">multiply</span> <span class="z-constant z-numeric z-koto">2</span>, <span class="z-variable z-other z-koto">square</span> <span class="z-variable z-other z-koto">add</span> <span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">3</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 32
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Parentheses don&#39;t help all that much...
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">multiply</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">2</span>, <span class="z-variable z-other z-koto">square</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-variable z-other z-koto">add</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 32
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Piping allows for a left-to-right flow of results.
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">add</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"> <span class="z-keyword z-operator z-logical z-koto">-&gt;</span> <span class="z-variable z-other z-koto">square</span> <span class="z-keyword z-operator z-logical z-koto">-&gt;</span> <span class="z-variable z-other z-koto">multiply</span> <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 32
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Call chains can also be broken across lines.
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">add</span> <span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">3</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-operator z-logical z-koto">-&gt;</span> <span class="z-variable z-other z-koto">square</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-operator z-logical z-koto">-&gt;</span> <span class="z-variable z-other z-koto">multiply</span> <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 32
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=add%20%3D%20%7Cx%2C%20y%7C%20x%20%2B%20y%0Amultiply%20%3D%20%7Cx%2C%20y%7C%20x%20%2A%20y%0Asquare%20%3D%20%7Cx%7C%20x%20%2A%20x%0A%0A%23%20Chained%20function%20calls%20can%20be%20a%20bit%20hard%20to%20follow%20for%20the%20reader%2E%0Aprint%20x%20%3D%20multiply%202%2C%20square%20add%201%2C%203%0A%23%3A%2032%0A%0A%23%20Parentheses%20don%27t%20help%20all%20that%20much%2E%2E%2E%0Aprint%20x%20%3D%20multiply%282%2C%20square%28add%281%2C%203%29%29%29%0A%23%3A%2032%0A%0A%23%20Piping%20allows%20for%20a%20left%2Dto%2Dright%20flow%20of%20results%2E%0Aprint%20x%20%3D%20add%281%2C%203%29%20%2D%3E%20square%20%2D%3E%20multiply%202%0A%23%3A%2032%0A%0A%23%20Call%20chains%20can%20also%20be%20broken%20across%20lines%2E%0Aprint%20x%20%3D%20add%201%2C%203%0A%20%20%2D%3E%20square%0A%20%20%2D%3E%20multiply%202%0A%23%3A%2032" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Piped arguments are inserted as the first argument for the following call.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">get_name</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Ada<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">say</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">name</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">greeting</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">greeting</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">, </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">name</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">get_name</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"> <span class="z-keyword z-operator z-logical z-koto">-&gt;</span> <span class="z-variable z-other z-koto">say</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hello<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Hello, Ada!
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=get%5Fname%20%3D%20%7C%7C%20%27Ada%27%0Asay%20%3D%20%7Cname%2C%20greeting%7C%20print%20%27%7Bgreeting%7D%2C%20%7Bname%7D%21%27%0A%0Aget%5Fname%28%29%20%2D%3E%20say%20%27Hello%27%0A%23%3A%20Hello%2C%20Ada%21" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="maps"><a class="zola-anchor" href="#maps" aria-label="Anchor link for: maps">Maps</a></h2>
<p>Maps in Koto are <a href="https://en.wikipedia.org/wiki/Associative_array">associative containers</a> that contain a series of
<em>entries</em> with <em>keys</em> that correspond to associated values.</p>
<p>Maps can be created using <em>inline syntax</em>, with <code>{}</code> braces containing a series of entries separated by commas.</p>
<p>The <code>.</code> operator returns the value associated with a particular key.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">apples</span>: <span class="z-constant z-numeric z-koto">42</span>, <span class="z-variable z-other z-koto">oranges</span>: <span class="z-constant z-numeric z-koto">99</span>, <span class="z-variable z-other z-koto">lemons</span>: <span class="z-constant z-numeric z-koto">63</span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Get the value associated with the `oranges` key
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span>.<span class="z-variable z-function z-koto">oranges</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 99
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=m%20%3D%20%7Bapples%3A%2042%2C%20oranges%3A%2099%2C%20lemons%3A%2063%7D%0A%0A%23%20Get%20the%20value%20associated%20with%20the%20%60oranges%60%20key%0Aprint%20m%2Eoranges%0A%23%3A%2099" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Maps can also be created using <em>block syntax</em>, with each entry on a new indented line:</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span> <span class="z-keyword z-operator z-assignment z-koto">=</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">apples</span>: <span class="z-constant z-numeric z-koto">42</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">oranges</span>: <span class="z-constant z-numeric z-koto">99</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">lemons</span>: <span class="z-constant z-numeric z-koto">63</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span>.<span class="z-variable z-function z-koto">apples</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 42
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=m%20%3D%0A%20%20apples%3A%2042%0A%20%20oranges%3A%2099%0A%20%20lemons%3A%2063%0Aprint%20m%2Eapples%0A%23%3A%2042" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Once a map has been created, its underlying data is shared between other
instances of the same map. Changes to one instance are reflected in the other.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Create a map and assign it to `a`.
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">foo</span>: <span class="z-constant z-numeric z-koto">99</span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>.<span class="z-variable z-function z-koto">foo</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 99
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Assign a new instance of the map to `z`.
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">z</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">a</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Modifying the data via `z` is reflected in `a`.
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">z</span>.<span class="z-variable z-function z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hi!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>.<span class="z-variable z-function z-koto">foo</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Hi!
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20Create%20a%20map%20and%20assign%20it%20to%20%60a%60%2E%0Aa%20%3D%20%7Bfoo%3A%2099%7D%0Aprint%20a%2Efoo%0A%23%3A%2099%0A%0A%23%20Assign%20a%20new%20instance%20of%20the%20map%20to%20%60z%60%2E%0Az%20%3D%20a%0A%0A%23%20Modifying%20the%20data%20via%20%60z%60%20is%20reflected%20in%20%60a%60%2E%0Az%2Efoo%20%3D%20%27Hi%21%27%0Aprint%20a%2Efoo%0A%23%3A%20Hi%21" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="entry-order"><a class="zola-anchor" href="#entry-order" aria-label="Anchor link for: entry-order">Entry Order</a></h3>
<p>A map's entries are maintained in a consistent order,
representing the sequence in which its entries were added.</p>
<p>You can access map entries by index using square brackets, starting from <code>0</code>.</p>
<p>The entry is returned as a tuple containing the key and its associated value.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">apples</span>: <span class="z-constant z-numeric z-koto">42</span>, <span class="z-variable z-other z-koto">oranges</span>: <span class="z-constant z-numeric z-koto">99</span>, <span class="z-variable z-other z-koto">lemons</span>: <span class="z-constant z-numeric z-koto">63</span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (&#39;oranges&#39;, 99)
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=m%20%3D%20%7Bapples%3A%2042%2C%20oranges%3A%2099%2C%20lemons%3A%2063%7D%0Aprint%20m%5B1%5D%0A%23%3A%20%28%27oranges%27%2C%2099%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Entries can also be replaced by assigning a key/value tuple to the entry's index.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">apples</span>: <span class="z-constant z-numeric z-koto">42</span>, <span class="z-variable z-other z-koto">oranges</span>: <span class="z-constant z-numeric z-koto">99</span>, <span class="z-variable z-other z-koto">lemons</span>: <span class="z-constant z-numeric z-koto">63</span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto"> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>pears<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-constant z-numeric z-koto">123</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: {apples: 42, pears: 123, lemons: 63}
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=m%20%3D%20%7Bapples%3A%2042%2C%20oranges%3A%2099%2C%20lemons%3A%2063%7D%0Am%5B1%5D%20%3D%20%28%27pears%27%2C%20123%29%0Aprint%20m%0A%23%3A%20%7Bapples%3A%2042%2C%20pears%3A%20123%2C%20lemons%3A%2063%7D" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="shorthand-values"><a class="zola-anchor" href="#shorthand-values" aria-label="Anchor link for: shorthand-values">Shorthand Values</a></h3>
<p>When creating maps with inline syntax, Koto supports a shorthand notation that
simplifies adding existing values to the map.</p>
<p>If a value isn't provided for a key, then Koto will look for a value
that matches the key's name, and if one is found then it will be used as that
entry's value.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">hi</span>, <span class="z-variable z-other z-koto">bye</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>hi!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>bye!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">hi</span>, <span class="z-variable z-other z-koto">x</span>: <span class="z-constant z-numeric z-koto">42</span>, <span class="z-variable z-other z-koto">bye</span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: {hi: &#39;hi!&#39;, x: 42, bye: &#39;bye!&#39;}
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=hi%2C%20bye%20%3D%20%27hi%21%27%2C%20%27bye%21%27%0Aprint%20m%20%3D%20%7Bhi%2C%20x%3A%2042%2C%20bye%7D%0A%23%3A%20%7Bhi%3A%20%27hi%21%27%2C%20x%3A%2042%2C%20bye%3A%20%27bye%21%27%7D" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="maps-and-self"><a class="zola-anchor" href="#maps-and-self" aria-label="Anchor link for: maps-and-self">Maps and Self</a></h3>
<p>Maps can store any type of value, including functions,
which provides a convenient way to group functions together.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span> <span class="z-keyword z-operator z-assignment z-koto">=</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">hello</span>: <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">name</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hello, </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">name</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">bye</span>: <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">name</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Bye, </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">name</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span>.<span class="z-variable z-function z-koto">hello</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>World<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Hello, World!
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span>.<span class="z-variable z-function z-koto">bye</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Friend<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Bye, Friend!
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=m%20%3D%0A%20%20hello%3A%20%7Cname%7C%20%27Hello%2C%20%7Bname%7D%21%27%0A%20%20bye%3A%20%7Cname%7C%20%27Bye%2C%20%7Bname%7D%21%27%0A%0Aprint%20m%2Ehello%20%27World%27%0A%23%3A%20Hello%2C%20World%21%0Aprint%20m%2Ebye%20%27Friend%27%0A%23%3A%20Bye%2C%20Friend%21" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

<code>self</code> is a special identifier that refers to the instance of the container in
which the function is contained.</p>
<p>In maps, <code>self</code> allows functions to access and modify data from the map,
enabling <a href="https://en.wikipedia.org/wiki/Object_(computer_science)"><em>object</em></a>-like behaviour.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span> <span class="z-keyword z-operator z-assignment z-koto">=</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">name</span>: <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>World<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">say_hello</span>: <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hello, </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">name</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span>.<span class="z-variable z-function z-koto">say_hello</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Hello, World!
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span>.<span class="z-variable z-function z-koto">name</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Friend<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span>.<span class="z-variable z-function z-koto">say_hello</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Hello, Friend!
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=m%20%3D%0A%20%20name%3A%20%27World%27%0A%20%20say%5Fhello%3A%20%7C%7C%20%27Hello%2C%20%7Bself%2Ename%7D%21%27%0A%0Aprint%20m%2Esay%5Fhello%28%29%0A%23%3A%20Hello%2C%20World%21%0A%0Am%2Ename%20%3D%20%27Friend%27%0Aprint%20m%2Esay%5Fhello%28%29%0A%23%3A%20Hello%2C%20Friend%21" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="joining-maps"><a class="zola-anchor" href="#joining-maps" aria-label="Anchor link for: joining-maps">Joining Maps</a></h3>
<p>The <code>+</code> operator allows maps to be joined together, creating a new map that
combines their entries.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">red</span>: <span class="z-constant z-numeric z-koto">100</span>, <span class="z-variable z-other z-koto">blue</span>: <span class="z-constant z-numeric z-koto">150</span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">b</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">green</span>: <span class="z-constant z-numeric z-koto">200</span>, <span class="z-variable z-other z-koto">blue</span>: <span class="z-constant z-numeric z-koto">99</span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">c</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">b</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">c</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: {red: 100, blue: 99, green: 200}
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=a%20%3D%20%7Bred%3A%20100%2C%20blue%3A%20150%7D%0Ab%20%3D%20%7Bgreen%3A%20200%2C%20blue%3A%2099%7D%0Ac%20%3D%20a%20%2B%20b%0Aprint%20c%0A%23%3A%20%7Bred%3A%20100%2C%20blue%3A%2099%2C%20green%3A%20200%7D" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="quoted-map-keys"><a class="zola-anchor" href="#quoted-map-keys" aria-label="Anchor link for: quoted-map-keys">Quoted Map Keys</a></h3>
<p>Map keys are usually defined and accessed without quotes, but they are stored in
the map as strings. Quotes can be used if a key needs to be defined that would be
otherwise be disallowed by Koto syntax rules
(e.g. a keyword, or using characters that aren't allowed in an identifier).
Quoted keys also allow key names to be generated dynamically by using string
interpolation.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">99</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span> <span class="z-keyword z-operator z-assignment z-koto">=</span>
</span><span class="z-source z-koto">  <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>true<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>: <span class="z-constant z-numeric z-koto">42</span>
</span><span class="z-source z-koto">  <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>key</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">x</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>: <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span>.<span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>true<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 42
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span>.<span class="z-variable z-function z-koto">key99</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 99
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%2099%0Am%20%3D%0A%20%20%27true%27%3A%2042%0A%20%20%27key%7Bx%7D%27%3A%20x%0Aprint%20m%2E%27true%27%0A%23%3A%2042%0Aprint%20m%2Ekey99%0A%23%3A%2099" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="map-key-types"><a class="zola-anchor" href="#map-key-types" aria-label="Anchor link for: map-key-types">Map Key Types</a></h3>
<p>Map keys are typically strings, but any <a href="https://en.wikipedia.org/wiki/Immutable_object"><em>immutable</em></a> value can be
used as a map key by using the <a href="../core/map#insert"><code>map.insert</code></a> and <a href="../core/map#get"><code>map.get</code></a>
functions.</p>
<p>The immutable value types in Koto are <a href="https://koto.dev/docs/next/language/#strings">strings</a>, <a href="https://koto.dev/docs/next/language/#numbers-and-arithmetic">numbers</a>,
<a href="https://koto.dev/docs/next/language/#booleans">booleans</a>, <a href="https://koto.dev/docs/next/language/#ranges">ranges</a>, and <a href="https://koto.dev/docs/next/language/#null"><code>null</code></a>.
<a href="https://koto.dev/docs/next/language/#tuples">Tuples</a> are also considered to be immutable when their contained
elements are all immutable.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span>.<span class="z-variable z-function z-koto">insert</span> <span class="z-constant z-numeric z-koto">0</span>, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>zero<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span>.<span class="z-variable z-function z-koto">get</span> <span class="z-constant z-numeric z-koto">0</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: zero
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span>.<span class="z-variable z-function z-koto">insert</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>xxx<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span>.<span class="z-variable z-function z-koto">get</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: xxx
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=m%20%3D%20%7B%7D%0A%0Am%2Einsert%200%2C%20%27zero%27%0Aprint%20m%2Eget%200%0A%23%3A%20zero%0A%0Am%2Einsert%20%281%2C%202%2C%203%29%2C%20%27xxx%27%0Aprint%20m%2Eget%20%281%2C%202%2C%203%29%0A%23%3A%20xxx" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="core-library"><a class="zola-anchor" href="#core-library" aria-label="Anchor link for: core-library">Core Library</a></h2>
<p>The <a href="../core"><em>Core Library</em></a> provides a collection of fundamental functions
and values for working with the Koto language, organized within <em>modules</em>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Convert a string to lowercase
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">string</span>.<span class="z-variable z-function z-koto">to_lowercase</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>HELLO<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: hello
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Get the first element of a list
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">list</span>.<span class="z-variable z-function z-koto">first</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">99</span>, <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 99
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20Convert%20a%20string%20to%20lowercase%0Aprint%20string%2Eto%5Flowercase%20%27HELLO%27%0A%23%3A%20hello%0A%0A%23%20Get%20the%20first%20element%20of%20a%20list%0Aprint%20list%2Efirst%20%5B99%2C%20%2D1%2C%203%5D%0A%23%3A%2099" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Koto's built-in value types automatically have access to their corresponding
core library modules via <code>.</code> access.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Convert a string to uppercase
</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>xyz<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>.<span class="z-variable z-function z-koto">to_uppercase</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: XYZ
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Get the last element in a list
</span></span><span class="z-source z-koto"></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>abc<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-constant z-numeric z-koto">123</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">last</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 123
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Round a floating-point number to the closest integer
</span></span><span class="z-source z-koto"></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">7</span> <span class="z-keyword z-operator z-arithmetic z-koto">/</span> <span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">round</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 4
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Check if a map contains an &#39;apples&#39; key
</span></span><span class="z-source z-koto"></span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">apples</span>: <span class="z-constant z-numeric z-koto">42</span>, <span class="z-variable z-other z-koto">pears</span>: <span class="z-constant z-numeric z-koto">99</span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">contains_key</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>apples<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: true
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20Convert%20a%20string%20to%20uppercase%0Aprint%20%27xyz%27%2Eto%5Fuppercase%28%29%0A%23%3A%20XYZ%0A%0A%23%20Get%20the%20last%20element%20in%20a%20list%0Aprint%20%5B%27abc%27%2C%20123%5D%2Elast%28%29%0A%23%3A%20123%0A%0A%23%20Round%20a%20floating%2Dpoint%20number%20to%20the%20closest%20integer%0Aprint%20%287%20%2F%202%29%2Eround%28%29%0A%23%3A%204%0A%0A%23%20Check%20if%20a%20map%20contains%20an%20%27apples%27%20key%0Aprint%20%7Bapples%3A%2042%2C%20pears%3A%2099%7D%2Econtains%5Fkey%20%27apples%27%0A%23%3A%20true" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

The <a href="../core">documentation</a> for the Core library (along with this guide) is
also available in the <code>help</code> command of the <a href="../cli">Koto CLI</a>.</p>
<h3 id="prelude"><a class="zola-anchor" href="#prelude" aria-label="Anchor link for: prelude">Prelude</a></h3>
<p>Koto's <em>prelude</em> is a collection of items that are automatically
made available in a Koto script without the need for first calling <a href="https://koto.dev/docs/next/language/#import"><code>import</code></a>.</p>
<p>The core library's modules are all included by default in the prelude,
along with the following functions:</p>
<ul>
<li><a href="../core/io#print"><code>io.print</code></a></li>
<li><a href="../core/koto#copy"><code>koto.copy</code></a></li>
<li><a href="../core/koto#size"><code>koto.size</code></a></li>
<li><a href="../core/koto#type"><code>koto.type</code></a></li>
<li><a href="../core/test#assert"><code>test.assert</code></a></li>
<li><a href="../core/test#assert-eq"><code>test.assert_eq</code></a></li>
<li><a href="../core/test#assert-ne"><code>test.assert_ne</code></a></li>
<li><a href="../core/test#assert-near"><code>test.assert_near</code></a></li>
</ul>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>io.print is available without needing to be imported<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: io.print is available without needing to be imported
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20%27io%2Eprint%20is%20available%20without%20needing%20to%20be%20imported%27%0A%23%3A%20io%2Eprint%20is%20available%20without%20needing%20to%20be%20imported" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="conditional-expressions"><a class="zola-anchor" href="#conditional-expressions" aria-label="Anchor link for: conditional-expressions">Conditional Expressions</a></h2>
<p>Koto includes several ways of producing values that depend on <em>conditions</em>.</p>
<h3 id="if"><a class="zola-anchor" href="#if" aria-label="Anchor link for: if"><code>if</code></a></h3>
<p><code>if</code> expressions come in two flavors; single-line:</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">99</span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-conditional z-koto">if</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-arithmetic z-koto">%</span> <span class="z-constant z-numeric z-koto">2</span> <span class="z-keyword z-operator z-comparison z-koto">==</span> <span class="z-constant z-numeric z-koto">0</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>even<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span> <span class="z-keyword z-control z-conditional z-koto">else</span> <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>odd<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: odd
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%2099%0Aif%20x%20%25%202%20%3D%3D%200%20then%20print%20%27even%27%20else%20print%20%27odd%27%0A%23%3A%20odd" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

...And multi-line using indented blocks:</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">24</span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-conditional z-koto">if</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-comparison z-koto">&lt;</span> <span class="z-constant z-numeric z-koto">0</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>negative<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-conditional z-koto">else</span> <span class="z-keyword z-control z-conditional z-koto">if</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-comparison z-koto">&gt;</span> <span class="z-constant z-numeric z-koto">24</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>no way!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-conditional z-koto">else</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>ok<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: ok
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%2024%0Aif%20x%20%3C%200%0A%20%20print%20%27negative%27%0Aelse%20if%20x%20%3E%2024%0A%20%20print%20%27no%20way%21%27%0Aelse%0A%20%20print%20%27ok%27%0A%23%3A%20ok" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

The result of an <code>if</code> expression is the final expression in the branch that gets
executed.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-control z-conditional z-koto">if</span> <span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-comparison z-koto">==</span> <span class="z-constant z-numeric z-koto">2</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-constant z-numeric z-koto">3</span> <span class="z-keyword z-control z-conditional z-koto">else</span> <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 3
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Assign the result of the if expression to foo
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-control z-conditional z-koto">if</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-comparison z-koto">&gt;</span> <span class="z-constant z-numeric z-koto">0</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">y</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-constant z-numeric z-koto">10</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">y</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">3</span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-conditional z-koto">else</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">y</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-constant z-numeric z-koto">100</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">y</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-variable z-other z-koto">y</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 33
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%20if%201%20%2B%201%20%3D%3D%202%20then%203%20else%20%2D1%0Aprint%20x%0A%23%3A%203%0A%0A%23%20Assign%20the%20result%20of%20the%20if%20expression%20to%20foo%0Afoo%20%3D%20if%20x%20%3E%200%0A%20%20y%20%3D%20x%20%2A%2010%0A%20%20y%20%2B%203%0Aelse%0A%20%20y%20%3D%20x%20%2A%20100%0A%20%20y%20%2A%20y%0A%0Aprint%20foo%0A%23%3A%2033" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="switch"><a class="zola-anchor" href="#switch" aria-label="Anchor link for: switch"><code>switch</code></a></h3>
<p><code>switch</code> expressions can be used as a cleaner alternative to
<code>if</code>/<code>else if</code>/<code>else</code> cascades.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">fib</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-conditional z-koto">switch</span>
</span><span class="z-source z-koto">    <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-comparison z-koto">&lt;=</span> <span class="z-constant z-numeric z-koto">0</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-constant z-numeric z-koto">0</span>
</span><span class="z-source z-koto">    <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-comparison z-koto">==</span> <span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">    <span class="z-keyword z-control z-conditional z-koto">else</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-variable z-other z-koto">fib</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">-</span> <span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-variable z-other z-koto">fib</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">-</span> <span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">fib</span> <span class="z-constant z-numeric z-koto">7</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 13
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=fib%20%3D%20%7Cn%7C%0A%20%20switch%0A%20%20%20%20n%20%3C%3D%200%20then%200%0A%20%20%20%20n%20%3D%3D%201%20then%201%0A%20%20%20%20else%20%28fib%20n%20%2D%201%29%20%2B%20%28fib%20n%20%2D%202%29%0A%0Aprint%20fib%207%0A%23%3A%2013" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="match"><a class="zola-anchor" href="#match" aria-label="Anchor link for: match"><code>match</code></a></h3>
<p><code>match</code> expressions can be used to match a value against a series of patterns,
with the matched pattern causing a specific branch of code to be executed.</p>
<p>Patterns can be literals or identifiers. An identifier will match any value,
so they're often used with <code>if</code> conditions to refine the match.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-conditional z-koto">match</span> <span class="z-constant z-numeric z-koto">40</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto">  <span class="z-constant z-numeric z-koto">0</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>zero<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>one<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-control z-conditional z-koto">if</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-comparison z-koto">&lt;</span> <span class="z-constant z-numeric z-koto">10</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>less than 10: </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">x</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-control z-conditional z-koto">if</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-comparison z-koto">&lt;</span> <span class="z-constant z-numeric z-koto">50</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>less than 50: </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">x</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>other: </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">x</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: less than 50: 42
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20match%2040%20%2B%202%0A%20%200%20then%20%27zero%27%0A%20%201%20then%20%27one%27%0A%20%20x%20if%20x%20%3C%2010%20then%20%27less%20than%2010%3A%20%7Bx%7D%27%0A%20%20x%20if%20x%20%3C%2050%20then%20%27less%20than%2050%3A%20%7Bx%7D%27%0A%20%20x%20then%20%27other%3A%20%7Bx%7D%27%0A%23%3A%20less%20than%2050%3A%2042" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Ignored values (any identifier starting with <code>_</code>) match against any value,
and <code>else</code> can be used for fallback branches.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">fizz_buzz</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-conditional z-koto">match</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">%</span> <span class="z-constant z-numeric z-koto">3</span>, <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">%</span> <span class="z-constant z-numeric z-koto">5</span>
</span><span class="z-source z-koto">    <span class="z-constant z-numeric z-koto">0</span>, <span class="z-constant z-numeric z-koto">0</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>Fizz Buzz<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">    <span class="z-constant z-numeric z-koto">0</span>, <span class="z-variable z-other z-koto">_</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>Fizz<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">    <span class="z-variable z-other z-koto">_</span>, <span class="z-constant z-numeric z-koto">0</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>Buzz<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">    <span class="z-keyword z-control z-conditional z-koto">else</span> <span class="z-variable z-other z-koto">n</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">10</span>, <span class="z-constant z-numeric z-koto">11</span>, <span class="z-constant z-numeric z-koto">12</span>, <span class="z-constant z-numeric z-koto">13</span>, <span class="z-constant z-numeric z-koto">14</span>, <span class="z-constant z-numeric z-koto">15</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">each</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">fizz_buzz</span> <span class="z-variable z-other z-koto">n</span>
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">to_tuple</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (&#39;Buzz&#39;, 11, &#39;Fizz&#39;, 13, 14, &#39;Fizz Buzz&#39;)
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=fizz%5Fbuzz%20%3D%20%7Cn%7C%0A%20%20match%20n%20%25%203%2C%20n%20%25%205%0A%20%20%20%200%2C%200%20then%20%22Fizz%20Buzz%22%0A%20%20%20%200%2C%20%5F%20then%20%22Fizz%22%0A%20%20%20%20%5F%2C%200%20then%20%22Buzz%22%0A%20%20%20%20else%20n%0A%0Aprint%20%2810%2C%2011%2C%2012%2C%2013%2C%2014%2C%2015%29%0A%20%20%2Eeach%20%7Cn%7C%20fizz%5Fbuzz%20n%0A%20%20%2Eto%5Ftuple%28%29%0A%23%3A%20%28%27Buzz%27%2C%2011%2C%20%27Fizz%27%2C%2013%2C%2014%2C%20%27Fizz%20Buzz%27%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

List and tuple entries can be matched against by using parentheses,
with <code>...</code> available for capturing the rest of the sequence.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-conditional z-koto">match</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>a<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>b<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>c<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">extend</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">  </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>a<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>b<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"> <span class="z-keyword z-control z-conditional z-koto">then</span>
</span><span class="z-source z-koto">    <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>A list containing &#39;a&#39; and &#39;b&#39;<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">  </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-keyword z-operator z-bitwise z-koto">...</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"> <span class="z-keyword z-control z-conditional z-koto">then</span>
</span><span class="z-source z-koto">    <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>Starts with &#39;1&#39;<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">  </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-keyword z-operator z-bitwise z-koto">...</span>, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>y<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-variable z-other z-koto">last</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"> <span class="z-keyword z-control z-conditional z-koto">then</span>
</span><span class="z-source z-koto">    <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>Ends with &#39;y&#39; followed by &#39;</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">last</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto">&#39;<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">  </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>a<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-variable z-other z-koto">x</span>, <span class="z-variable z-other z-koto">others</span><span class="z-keyword z-operator z-bitwise z-koto">...</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"> <span class="z-keyword z-control z-conditional z-koto">then</span>
</span><span class="z-source z-koto">    <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>Starts with &#39;a&#39;, followed by &#39;</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">x</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto">&#39;, then </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">size</span> <span class="z-variable z-other z-koto">others</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto"> others<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">unmatched</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>other: </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">unmatched</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Starts with &#39;a&#39;, followed by &#39;b&#39;, then 4 others
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20match%20%5B%27a%27%2C%20%27b%27%2C%20%27c%27%5D%2Eextend%20%5B1%2C%202%2C%203%5D%0A%20%20%28%27a%27%2C%20%27b%27%29%20then%0A%20%20%20%20%22A%20list%20containing%20%27a%27%20and%20%27b%27%22%0A%20%20%281%2C%20%2E%2E%2E%29%20then%0A%20%20%20%20%22Starts%20with%20%271%27%22%0A%20%20%28%2E%2E%2E%2C%20%27y%27%2C%20last%29%20then%0A%20%20%20%20%22Ends%20with%20%27y%27%20followed%20by%20%27%7Blast%7D%27%22%0A%20%20%28%27a%27%2C%20x%2C%20others%2E%2E%2E%29%20then%0A%20%20%20%20%22Starts%20with%20%27a%27%2C%20followed%20by%20%27%7Bx%7D%27%2C%20then%20%7Bsize%20others%7D%20others%22%0A%20%20unmatched%20then%20%22other%3A%20%7Bunmatched%7D%22%0A%23%3A%20Starts%20with%20%27a%27%2C%20followed%20by%20%27b%27%2C%20then%204%20others" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="optional-chaining"><a class="zola-anchor" href="#optional-chaining" aria-label="Anchor link for: optional-chaining">Optional Chaining</a></h3>
<p>Checking optional values for <code>null</code> in expression chains can feel a bit
cumbersome, with <code>if</code> checks interrupting an expression's natural flow.</p>
<p>The <code>?</code> operator can be used to simplify expression chains that contain optional results.
If <code>?</code> finds <code>null</code> when checking an optional value,
then the chain gets <em>short-circuited</em> with <code>null</code> given as the chain's overall result.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">info</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">town</span>: <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hamburg<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-variable z-other z-koto">country</span>: <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Germany<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> `info` contains a value for &#39;town&#39;, which is then passed to to_uppercase():
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">info</span>.<span class="z-variable z-function z-koto">get</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>town<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"><span class="z-keyword z-operator z-logical z-koto">?</span>.<span class="z-variable z-function z-koto">to_uppercase</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: HAMBURG
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> `info` doesn&#39;t contain a value for &#39;state&#39;,
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> so the `?` operator short-circuits the expression, resulting in `null`:
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">info</span>.<span class="z-variable z-function z-koto">get</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>state<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"><span class="z-keyword z-operator z-logical z-koto">?</span>.<span class="z-variable z-function z-koto">to_uppercase</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: null
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Without the `?` operator, an intermediate step is necessary:
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">country</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">info</span>.<span class="z-variable z-function z-koto">get</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>country<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-conditional z-koto">if</span> <span class="z-variable z-other z-koto">country</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-variable z-other z-koto">country</span>.<span class="z-variable z-function z-koto">to_uppercase</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: GERMANY
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=info%20%3D%20%7Btown%3A%20%27Hamburg%27%2C%20country%3A%20%27Germany%27%7D%0A%0A%23%20%60info%60%20contains%20a%20value%20for%20%27town%27%2C%20which%20is%20then%20passed%20to%20to%5Fuppercase%28%29%3A%0Aprint%20info%2Eget%28%27town%27%29%3F%2Eto%5Fuppercase%28%29%0A%23%3A%20HAMBURG%0A%0A%23%20%60info%60%20doesn%27t%20contain%20a%20value%20for%20%27state%27%2C%0A%23%20so%20the%20%60%3F%60%20operator%20short%2Dcircuits%20the%20expression%2C%20resulting%20in%20%60null%60%3A%0Aprint%20info%2Eget%28%27state%27%29%3F%2Eto%5Fuppercase%28%29%0A%23%3A%20null%0A%0A%23%20Without%20the%20%60%3F%60%20operator%2C%20an%20intermediate%20step%20is%20necessary%3A%0Acountry%20%3D%20info%2Eget%28%27country%27%29%0Aprint%20if%20country%20then%20country%2Eto%5Fuppercase%28%29%0A%23%3A%20GERMANY" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Multiple <code>?</code> checks can be performed in an expression chain:</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">get_data</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">nested</span>: </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">maybe_string</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">null</span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">get_data</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"><span class="z-keyword z-operator z-logical z-koto">?</span>
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">get</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>nested<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"><span class="z-keyword z-operator z-logical z-koto">?</span>
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">get</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>maybe_string<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"><span class="z-keyword z-operator z-logical z-koto">?</span>
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">to_uppercase</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: null
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=get%5Fdata%20%3D%20%7C%7C%20%7Bnested%3A%20%7Bmaybe%5Fstring%3A%20null%7D%7D%0Aprint%20get%5Fdata%28%29%3F%0A%20%20%2Eget%28%27nested%27%29%3F%0A%20%20%2Eget%28%27maybe%5Fstring%27%29%3F%0A%20%20%2Eto%5Fuppercase%28%29%0A%23%3A%20null" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="loops"><a class="zola-anchor" href="#loops" aria-label="Anchor link for: loops">Loops</a></h2>
<p>Koto includes several ways of evaluating expressions repeatedly in a loop.</p>
<h3 id="for"><a class="zola-anchor" href="#for" aria-label="Anchor link for: for"><code>for</code></a></h3>
<p><code>for</code> loops are repeated for each element in a sequence,
such as a list or tuple.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-koto">for</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-control z-koto">in</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">10</span>, <span class="z-constant z-numeric z-koto">20</span>, <span class="z-constant z-numeric z-koto">30</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-variable z-other z-koto">n</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 10
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 20
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 30
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=for%20n%20in%20%5B10%2C%2020%2C%2030%5D%0A%20%20print%20n%0A%23%3A%2010%0A%23%3A%2020%0A%23%3A%2030" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="while"><a class="zola-anchor" href="#while" aria-label="Anchor link for: while"><code>while</code></a></h3>
<p><code>while</code> loops continue to repeat <em>while</em> a condition is true.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">0</span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">while</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-comparison z-koto">&lt;</span> <span class="z-constant z-numeric z-koto">5</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">+=</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 5
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%200%0Awhile%20x%20%3C%205%0A%20%20x%20%2B%3D%201%0Aprint%20x%0A%23%3A%205" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="until"><a class="zola-anchor" href="#until" aria-label="Anchor link for: until"><code>until</code></a></h3>
<p><code>until</code> loops continue to repeat <em>until</em> a condition is true.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">z</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">until</span> <span class="z-variable z-other z-koto">z</span>.<span class="z-variable z-function z-koto">is_empty</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Remove the last element of the list
</span></span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-variable z-other z-koto">z</span>.<span class="z-variable z-function z-koto">pop</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 3
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 2
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 1
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=z%20%3D%20%5B1%2C%202%2C%203%5D%0Auntil%20z%2Eis%5Fempty%28%29%0A%20%20%23%20Remove%20the%20last%20element%20of%20the%20list%0A%20%20print%20z%2Epop%28%29%0A%23%3A%203%0A%23%3A%202%0A%23%3A%201" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="continue"><a class="zola-anchor" href="#continue" aria-label="Anchor link for: continue"><code>continue</code></a></h3>
<p>The <code>continue</code> keyword skips the remaining part of a loop's body and proceeds with the next repetition of the loop.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-koto">for</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-control z-koto">in</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">2</span>, <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Skip over any values less than 0
</span></span><span class="z-source z-koto">  <span class="z-keyword z-control z-conditional z-koto">if</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-comparison z-koto">&lt;</span> <span class="z-constant z-numeric z-koto">0</span>
</span><span class="z-source z-koto">    <span class="z-keyword z-control z-flow z-koto">continue</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-variable z-other z-koto">n</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 1
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 2
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=for%20n%20in%20%28%2D2%2C%20%2D1%2C%201%2C%202%29%0A%20%20%23%20Skip%20over%20any%20values%20less%20than%200%0A%20%20if%20n%20%3C%200%0A%20%20%20%20continue%0A%20%20print%20n%0A%23%3A%201%0A%23%3A%202" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="break"><a class="zola-anchor" href="#break" aria-label="Anchor link for: break"><code>break</code></a></h3>
<p>Loops can be terminated with the <code>break</code> keyword.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">0</span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">while</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-comparison z-koto">&lt;</span> <span class="z-constant z-numeric z-koto">100000</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-conditional z-koto">if</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-comparison z-koto">&gt;=</span> <span class="z-constant z-numeric z-koto">3</span>
</span><span class="z-source z-koto">    <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Break out of the loop when x is greater or equal to 3
</span></span><span class="z-source z-koto">    <span class="z-keyword z-control z-flow z-koto">break</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">+=</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 3
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%200%0Awhile%20x%20%3C%20100000%0A%20%20if%20x%20%3E%3D%203%0A%20%20%20%20%23%20Break%20out%20of%20the%20loop%20when%20x%20is%20greater%20or%20equal%20to%203%0A%20%20%20%20break%0A%20%20x%20%2B%3D%201%0Aprint%20x%0A%23%3A%203" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

A value can be provided to <code>break</code>, which is then used as the result of the loop.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">0</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">y</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-control z-koto">while</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-comparison z-koto">&lt;</span> <span class="z-constant z-numeric z-koto">100000</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-conditional z-koto">if</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-comparison z-koto">&gt;=</span> <span class="z-constant z-numeric z-koto">3</span>
</span><span class="z-source z-koto">    <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Break out of the loop, providing x + 100 as the loop&#39;s result
</span></span><span class="z-source z-koto">    <span class="z-keyword z-control z-flow z-koto">break</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">100</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">+=</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">y</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 103
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%200%0Ay%20%3D%20while%20x%20%3C%20100000%0A%20%20if%20x%20%3E%3D%203%0A%20%20%20%20%23%20Break%20out%20of%20the%20loop%2C%20providing%20x%20%2B%20100%20as%20the%20loop%27s%20result%0A%20%20%20%20break%20x%20%2B%20100%0A%20%20x%20%2B%3D%201%0Aprint%20y%0A%23%3A%20103" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="loop"><a class="zola-anchor" href="#loop" aria-label="Anchor link for: loop"><code>loop</code></a></h3>
<p><code>loop</code> creates a loop that will repeat indefinitely.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">0</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">y</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-control z-koto">loop</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">+=</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Stop looping when x is greater than 4
</span></span><span class="z-source z-koto">  <span class="z-keyword z-control z-conditional z-koto">if</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-comparison z-koto">&gt;</span> <span class="z-constant z-numeric z-koto">4</span>
</span><span class="z-source z-koto">    <span class="z-keyword z-control z-flow z-koto">break</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">y</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 25
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%200%0Ay%20%3D%20loop%0A%20%20x%20%2B%3D%201%0A%20%20%23%20Stop%20looping%20when%20x%20is%20greater%20than%204%0A%20%20if%20x%20%3E%204%0A%20%20%20%20break%20x%20%2A%20x%0Aprint%20y%0A%23%3A%2025" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="iterators"><a class="zola-anchor" href="#iterators" aria-label="Anchor link for: iterators">Iterators</a></h2>
<p>The elements of a sequence can be accessed sequentially with an <em>iterator</em>,
created using the <code>.iter()</code> function.</p>
<p>An iterator yields values via <a href="../core/iterator#next"><code>.next()</code></a> until the end of the sequence is
reached, when <code>null</code> is returned.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">i</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">10</span>, <span class="z-constant z-numeric z-koto">20</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">iter</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">i</span>.<span class="z-variable z-function z-koto">next</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: IteratorOutput(10)
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">i</span>.<span class="z-variable z-function z-koto">next</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: IteratorOutput(20)
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">i</span>.<span class="z-variable z-function z-koto">next</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: null
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=i%20%3D%20%5B10%2C%2020%5D%2Eiter%28%29%0A%0Aprint%20i%2Enext%28%29%0A%23%3A%20IteratorOutput%2810%29%0Aprint%20i%2Enext%28%29%0A%23%3A%20IteratorOutput%2820%29%0Aprint%20i%2Enext%28%29%0A%23%3A%20null" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="iterator-generators"><a class="zola-anchor" href="#iterator-generators" aria-label="Anchor link for: iterator-generators">Iterator Generators</a></h3>
<p>The <a href="../core/iterator"><code>iterator</code></a> module contains iterator <em>generators</em> like
<a href="../core/iterator#once"><code>once</code></a> and <a href="../core/iterator#repeat"><code>repeat</code></a> that generate output values
<a href="https://en.wikipedia.org/wiki/Lazy_evaluation"><em>lazily</em></a> during iteration.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Create an iterator that repeats ! twice
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">i</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">iterator</span>.<span class="z-variable z-function z-koto">repeat</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">i</span>.<span class="z-variable z-function z-koto">next</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: IteratorOutput(!)
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">i</span>.<span class="z-variable z-function z-koto">next</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: IteratorOutput(!)
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">i</span>.<span class="z-variable z-function z-koto">next</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: null
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20Create%20an%20iterator%20that%20repeats%20%21%20twice%0Ai%20%3D%20iterator%2Erepeat%28%27%21%27%2C%202%29%0Aprint%20i%2Enext%28%29%0A%23%3A%20IteratorOutput%28%21%29%0Aprint%20i%2Enext%28%29%0A%23%3A%20IteratorOutput%28%21%29%0Aprint%20i%2Enext%28%29%0A%23%3A%20null" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="iterator-adaptors"><a class="zola-anchor" href="#iterator-adaptors" aria-label="Anchor link for: iterator-adaptors">Iterator Adaptors</a></h3>
<p>The output of an iterator can be modified using <em>adaptors</em> from the
<a href="../core/iterator"><code>iterator</code></a> module.</p>
<p>The <code>iterator</code> module is available to any value which is declared to be <em>iterable</em>
(which includes Koto's containers like lists and strings),
so it's not necessary to call <code>.iter()</code> before using an adaptor.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Create an iterator that outputs any value in the list above 3
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span>, <span class="z-constant z-numeric z-koto">4</span>, <span class="z-constant z-numeric z-koto">5</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">keep</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-comparison z-koto">&gt;</span> <span class="z-constant z-numeric z-koto">3</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>.<span class="z-variable z-function z-koto">next</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: IteratorOutput(4)
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>.<span class="z-variable z-function z-koto">next</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: IteratorOutput(5)
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>.<span class="z-variable z-function z-koto">next</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: null
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20Create%20an%20iterator%20that%20outputs%20any%20value%20in%20the%20list%20above%203%0Ax%20%3D%20%5B1%2C%202%2C%203%2C%204%2C%205%5D%2Ekeep%20%7Cn%7C%20n%20%3E%203%0A%0Aprint%20x%2Enext%28%29%0A%23%3A%20IteratorOutput%284%29%0Aprint%20x%2Enext%28%29%0A%23%3A%20IteratorOutput%285%29%0Aprint%20x%2Enext%28%29%0A%23%3A%20null" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="using-iterators-with-for"><a class="zola-anchor" href="#using-iterators-with-for" aria-label="Anchor link for: using-iterators-with-for">Using iterators with <code>for</code></a></h3>
<p><code>for</code> loops accept any iterable value as input, including adapted iterators.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-koto">for</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-control z-koto">in</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>abacad<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>.<span class="z-variable z-function z-koto">keep</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">c</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">c</span> <span class="z-keyword z-operator z-comparison z-koto">!=</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>a<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: b
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: c
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: d
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=for%20x%20in%20%27abacad%27%2Ekeep%20%7Cc%7C%20c%20%21%3D%20%27a%27%0A%20%20print%20x%0A%23%3A%20b%0A%23%3A%20c%0A%23%3A%20d" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="iterator-chains"><a class="zola-anchor" href="#iterator-chains" aria-label="Anchor link for: iterator-chains">Iterator Chains</a></h3>
<p>Any iterator can be passed into an adaptor, including other adaptors,
creating <em>iterator chains</em> that act as data processing pipelines.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">i</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span>, <span class="z-constant z-numeric z-koto">4</span>, <span class="z-constant z-numeric z-koto">5</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">skip</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">each</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-constant z-numeric z-koto">10</span>
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">keep</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-comparison z-koto">&lt;=</span> <span class="z-constant z-numeric z-koto">40</span>
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">intersperse</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>--<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">for</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-control z-koto">in</span> <span class="z-variable z-other z-koto">i</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 20
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: --
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 30
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: --
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 40
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=i%20%3D%20%281%2C%202%2C%203%2C%204%2C%205%29%0A%20%20%2Eskip%201%0A%20%20%2Eeach%20%7Cn%7C%20n%20%2A%2010%0A%20%20%2Ekeep%20%7Cn%7C%20n%20%3C%3D%2040%0A%20%20%2Eintersperse%20%27%2D%2D%27%0A%0Afor%20x%20in%20i%0A%20%20print%20x%0A%23%3A%2020%0A%23%3A%20%2D%2D%0A%23%3A%2030%0A%23%3A%20%2D%2D%0A%23%3A%2040" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="iterator-consumers"><a class="zola-anchor" href="#iterator-consumers" aria-label="Anchor link for: iterator-consumers">Iterator Consumers</a></h3>
<p>Iterators can also be <em>consumed</em> using functions like
<a href="../core/iterator#to-list"><code>.to_list()</code></a> and <a href="../core/iterator#to-tuple"><code>.to_tuple()</code></a>,
allowing the output of an iterator to be easily captured in a container.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">each</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">to_tuple</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (2, 4, 6)
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span>, <span class="z-constant z-numeric z-koto">4</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">keep</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">%</span> <span class="z-constant z-numeric z-koto">2</span> <span class="z-keyword z-operator z-comparison z-koto">==</span> <span class="z-constant z-numeric z-koto">0</span>
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">each</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-constant z-numeric z-koto">11</span>
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">to_list</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: [22, 44]
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20%5B1%2C%202%2C%203%5D%0A%20%20%2Eeach%20%7Cn%7C%20n%20%2A%202%0A%20%20%2Eto%5Ftuple%28%29%0A%23%3A%20%282%2C%204%2C%206%29%0A%0Aprint%20%281%2C%202%2C%203%2C%204%29%0A%20%20%2Ekeep%20%7Cn%7C%20n%20%25%202%20%3D%3D%200%0A%20%20%2Eeach%20%7Cn%7C%20n%20%2A%2011%0A%20%20%2Eto%5Flist%28%29%0A%23%3A%20%5B22%2C%2044%5D" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Iterator consumers are also available for creating <a href="../core/iterator#to-string">strings</a> and <a href="../core/iterator#to-map">maps</a>,
as well as operations like <a href="../core/iterator#count">counting the number of values</a> yielded from an
iterator, or getting the <a href="../core/iterator#sum">total sum</a> of an iterator's output.</p>
<h2 id="value-unpacking"><a class="zola-anchor" href="#value-unpacking" aria-label="Anchor link for: value-unpacking">Value Unpacking</a></h2>
<p>Multiple assignments can be performed in a single expression by separating the
variable names with commas.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>, <span class="z-variable z-other z-koto">b</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">10</span>, <span class="z-constant z-numeric z-koto">20</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>, <span class="z-variable z-other z-koto">b</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (10, 20)
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=a%2C%20b%20%3D%2010%2C%2020%0Aprint%20a%2C%20b%0A%23%3A%20%2810%2C%2020%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

If there's a single value being assigned, and the value is iterable,
then it gets <em>unpacked</em> into the target variables.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">my_tuple</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>, <span class="z-variable z-other z-koto">y</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">my_tuple</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">y</span>, <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (2, 1)
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=my%5Ftuple%20%3D%201%2C%202%0Ax%2C%20y%20%3D%20my%5Ftuple%0Aprint%20y%2C%20x%0A%23%3A%20%282%2C%201%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Unpacking works with any iterable value, including adapted iterators.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>, <span class="z-variable z-other z-koto">b</span>, <span class="z-variable z-other z-koto">c</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span>, <span class="z-constant z-numeric z-koto">4</span>, <span class="z-constant z-numeric z-koto">5</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>, <span class="z-variable z-other z-koto">b</span>, <span class="z-variable z-other z-koto">c</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (1, 2, 3)
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>, <span class="z-variable z-other z-koto">y</span>, <span class="z-variable z-other z-koto">z</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>a-b-c<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>.<span class="z-variable z-function z-koto">split</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>-<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>, <span class="z-variable z-other z-koto">y</span>, <span class="z-variable z-other z-koto">z</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=a%2C%20b%2C%20c%20%3D%20%5B1%2C%202%2C%203%2C%204%2C%205%5D%0Aprint%20a%2C%20b%2C%20c%0A%23%3A%20%281%2C%202%2C%203%29%0A%0Ax%2C%20y%2C%20z%20%3D%20%27a%2Db%2Dc%27%2Esplit%20%27%2D%27%0Aprint%20x%2C%20y%2C%20z%0A%23%3A%20%28%27a%27%2C%20%27b%27%2C%20%27c%27%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

If the value being unpacked doesn't contain enough values for the assignment,
then <code>null</code> is assigned to any remaining variables.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>, <span class="z-variable z-other z-koto">b</span>, <span class="z-variable z-other z-koto">c</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>, <span class="z-variable z-other z-koto">b</span>, <span class="z-variable z-other z-koto">c</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (-1, -2, null)
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>, <span class="z-variable z-other z-koto">y</span>, <span class="z-variable z-other z-koto">z</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">42</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>, <span class="z-variable z-other z-koto">y</span>, <span class="z-variable z-other z-koto">z</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (42, null, null)
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=a%2C%20b%2C%20c%20%3D%20%5B%2D1%2C%20%2D2%5D%0Aprint%20a%2C%20b%2C%20c%0A%23%3A%20%28%2D1%2C%20%2D2%2C%20null%29%0A%0Ax%2C%20y%2C%20z%20%3D%2042%0Aprint%20x%2C%20y%2C%20z%0A%23%3A%20%2842%2C%20null%2C%20null%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Unpacking can also be used in <code>for</code> loops, which is particularly useful when
looping over the contents of a map.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">my_map</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">foo</span>: <span class="z-constant z-numeric z-koto">42</span>, <span class="z-variable z-other z-koto">bar</span>: <span class="z-constant z-numeric z-koto">99</span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">for</span> <span class="z-variable z-other z-koto">key</span>, <span class="z-variable z-other z-koto">value</span> <span class="z-keyword z-control z-koto">in</span> <span class="z-variable z-other z-koto">my_map</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-variable z-other z-koto">key</span>, <span class="z-variable z-other z-koto">value</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (&#39;foo&#39;, 42)
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (&#39;bar&#39;, 99)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=my%5Fmap%20%3D%20%7Bfoo%3A%2042%2C%20bar%3A%2099%7D%0Afor%20key%2C%20value%20in%20my%5Fmap%0A%20%20print%20key%2C%20value%0A%23%3A%20%28%27foo%27%2C%2042%29%0A%23%3A%20%28%27bar%27%2C%2099%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="ignoring-unpacked-values"><a class="zola-anchor" href="#ignoring-unpacked-values" aria-label="Anchor link for: ignoring-unpacked-values">Ignoring Unpacked Values</a></h3>
<p><code>_</code> can be used as a placeholder for unpacked values that aren't needed elsewhere
in the code and can therefore be ignored.</p>
<p>If you would like to add a name to the ignored value as a reminder, then the name can be appended to <code>_</code>.</p>
<p>Ignored values (any variables starting with <code>_</code>) can be written to, but can't be accessed.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>, <span class="z-variable z-other z-koto">_</span>, <span class="z-variable z-other z-koto">c</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">10</span><span class="z-keyword z-operator z-bitwise z-koto">..</span><span class="z-constant z-numeric z-koto">20</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>, <span class="z-variable z-other z-koto">c</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (10, 12)
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">_first</span>, <span class="z-variable z-other z-koto">second</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>xyz<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">second</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: y
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=a%2C%20%5F%2C%20c%20%3D%2010%2E%2E20%0Aprint%20a%2C%20c%0A%23%3A%20%2810%2C%2012%29%0A%0A%5Ffirst%2C%20second%20%3D%20%27xyz%27%0Aprint%20second%0A%23%3A%20y" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="ranges"><a class="zola-anchor" href="#ranges" aria-label="Anchor link for: ranges">Ranges</a></h2>
<p>Ranges of integers can be created with <code>..</code> or <code>..=</code>.</p>
<p><code>..</code> creates a <em>non-inclusive</em> range,
which defines a range up to but <em>not including</em> the end of the range.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Create a range from 10 to 20, not including 20
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">10</span><span class="z-keyword z-operator z-bitwise z-koto">..</span><span class="z-constant z-numeric z-koto">20</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 10..20
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span>.<span class="z-variable z-function z-koto">start</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 10
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span>.<span class="z-variable z-function z-koto">end</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 20
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span>.<span class="z-variable z-function z-koto">contains</span> <span class="z-constant z-numeric z-koto">20</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: false
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20Create%20a%20range%20from%2010%20to%2020%2C%20not%20including%2020%0Aprint%20r%20%3D%2010%2E%2E20%0A%23%3A%2010%2E%2E20%0Aprint%20r%2Estart%28%29%0A%23%3A%2010%0Aprint%20r%2Eend%28%29%0A%23%3A%2020%0Aprint%20r%2Econtains%2020%0A%23%3A%20false" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

<code>..=</code> creates an <em>inclusive</em> range, which includes the end of the range.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Create a range from 10 to 20, including 20
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">10</span><span class="z-keyword z-operator z-bitwise z-koto">..=</span><span class="z-constant z-numeric z-koto">20</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 10..=20
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span>.<span class="z-variable z-function z-koto">contains</span> <span class="z-constant z-numeric z-koto">20</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: true
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20Create%20a%20range%20from%2010%20to%2020%2C%20including%2020%0Aprint%20r%20%3D%2010%2E%2E%3D20%0A%23%3A%2010%2E%2E%3D20%0Aprint%20r%2Econtains%2020%0A%23%3A%20true" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

If a value is missing from either side of the range operator then an <em>unbounded</em>
range is created.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Create an unbounded range starting from 10
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">10</span><span class="z-keyword z-operator z-bitwise z-koto">..</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span>.<span class="z-variable z-function z-koto">start</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 10
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span>.<span class="z-variable z-function z-koto">end</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: null
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Create an unbounded range up to and including 100
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-operator z-bitwise z-koto">..=</span><span class="z-constant z-numeric z-koto">100</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span>.<span class="z-variable z-function z-koto">start</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: null
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span>.<span class="z-variable z-function z-koto">end</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 100
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20Create%20an%20unbounded%20range%20starting%20from%2010%0Ar%20%3D%2010%2E%2E%0Aprint%20r%2Estart%28%29%0A%23%3A%2010%0Aprint%20r%2Eend%28%29%0A%23%3A%20null%0A%0A%23%20Create%20an%20unbounded%20range%20up%20to%20and%20including%20100%0Ar%20%3D%20%2E%2E%3D100%0Aprint%20r%2Estart%28%29%0A%23%3A%20null%0Aprint%20r%2Eend%28%29%0A%23%3A%20100" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Ranges that have a defined start can be indexed using square brackets.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">100</span><span class="z-keyword z-operator z-bitwise z-koto">..</span><span class="z-constant z-numeric z-koto">200</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">50</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 150
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">10</span><span class="z-keyword z-operator z-bitwise z-koto">..</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">r</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">100</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 110
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=r%20%3D%20100%2E%2E200%0Aprint%20r%5B50%5D%0A%23%3A%20150%0A%0Ar%20%3D%2010%2E%2E%0Aprint%20r%5B100%5D%0A%23%3A%20110" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

<em>Bounded</em> ranges are declared as iterable,
so they can be used in for loops and with the <a href="../core/iterator"><code>iterator</code></a> module.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-koto">for</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-control z-koto">in</span> <span class="z-constant z-numeric z-koto">1</span><span class="z-keyword z-operator z-bitwise z-koto">..=</span><span class="z-constant z-numeric z-koto">3</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 1
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 2
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 3
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">0</span><span class="z-keyword z-operator z-bitwise z-koto">..</span><span class="z-constant z-numeric z-koto">5</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">to_list</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: [0, 1, 2, 3, 4]
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=for%20x%20in%201%2E%2E%3D3%0A%20%20print%20x%0A%23%3A%201%0A%23%3A%202%0A%23%3A%203%0A%0Aprint%20%280%2E%2E5%29%2Eto%5Flist%28%29%0A%23%3A%20%5B0%2C%201%2C%202%2C%203%2C%204%5D" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="slices"><a class="zola-anchor" href="#slices" aria-label="Anchor link for: slices">Slices</a></h3>
<p>Ranges can be used to create a <em>slice</em> of a container's data.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">10</span>, <span class="z-constant z-numeric z-koto">20</span>, <span class="z-constant z-numeric z-koto">30</span>, <span class="z-constant z-numeric z-koto">40</span>, <span class="z-constant z-numeric z-koto">50</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span><span class="z-keyword z-operator z-bitwise z-koto">..=</span><span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (20, 30, 40)
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%20%2810%2C%2020%2C%2030%2C%2040%2C%2050%29%0Aprint%20x%5B1%2E%2E%3D3%5D%0A%23%3A%20%2820%2C%2030%2C%2040%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

For immutable containers like tuples and strings,
slices share the original value's data, with no copies being made.</p>
<p>For mutable containers like lists, creating a slice makes a copy of the sliced
portion of the underlying data.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>abcdef<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> No copies are made when a string is sliced
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">y</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">3</span><span class="z-keyword z-operator z-bitwise z-koto">..</span><span class="z-constant z-numeric z-koto">6</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: def
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> When a list is sliced, the sliced elements get copied into a new list
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">b</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">a</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">0</span><span class="z-keyword z-operator z-bitwise z-koto">..</span><span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: [1, 2]
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">b</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">0</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto"> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">42</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 42
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">0</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 1
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%20%27abcdef%27%0A%23%20No%20copies%20are%20made%20when%20a%20string%20is%20sliced%0Aprint%20y%20%3D%20x%5B3%2E%2E6%5D%0A%23%3A%20def%0A%0Aa%20%3D%20%5B1%2C%202%2C%203%5D%0A%23%20When%20a%20list%20is%20sliced%2C%20the%20sliced%20elements%20get%20copied%20into%20a%20new%20list%0Aprint%20b%20%3D%20a%5B0%2E%2E2%5D%0A%23%3A%20%5B1%2C%202%5D%0Aprint%20b%5B0%5D%20%3D%2042%0A%23%3A%2042%0Aprint%20a%5B0%5D%0A%23%3A%201" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

When creating a slice with an unbounded range,
if the start of the range if omitted then the slice starts from the beginning of the container.
If the end of the range is omitted, then the slice includes all remaining elements in the container.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">z</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hëllø<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>.<span class="z-variable z-function z-koto">to_tuple</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">z</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-keyword z-operator z-bitwise z-koto">..</span><span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (&#39;H&#39;, &#39;ë&#39;)
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">z</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">2</span><span class="z-keyword z-operator z-bitwise z-koto">..</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (&#39;l&#39;, &#39;l&#39;, &#39;ø&#39;)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=z%20%3D%20%27H%C3%ABll%C3%B8%27%2Eto%5Ftuple%28%29%0Aprint%20z%5B%2E%2E2%5D%0A%23%3A%20%28%27H%27%2C%20%27%C3%AB%27%29%0Aprint%20z%5B2%2E%2E%5D%0A%23%3A%20%28%27l%27%2C%20%27l%27%2C%20%27%C3%B8%27%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="type-checks"><a class="zola-anchor" href="#type-checks" aria-label="Anchor link for: type-checks">Type Checks</a></h2>
<p>Koto is a primarily a dynamically typed language, however in more complex programs
you might find it beneficial to add <em>type checks</em>.</p>
<p>These checks can help in catching errors earlier, and can also act as
documentation for the reader.</p>
<p>One way to add type checks to your program is to use the
<a href="../core/koto#type"><code>type</code></a> function, which returns a value's type as a string.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">123</span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-flow z-assert z-koto">assert_eq</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-variable z-other z-koto">type</span> <span class="z-variable z-other z-koto">x</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Number<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%20123%0Aassert%5Feq%20%28type%20x%29%2C%20%27Number%27" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Checking types this way is rather verbose, so Koto offers <em>type hints</em> as a more
ergonomic alternative.</p>
<h3 id="let"><a class="zola-anchor" href="#let" aria-label="Anchor link for: let"><code>let</code></a></h3>
<p>You can declare variables with type hints using a <code>let</code> expression.</p>
<p>If a value is assigned that doesn't match the declared type then an error will
be thrown.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-koto">let</span> <span class="z-variable z-other z-koto">x</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">String</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>hello<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: hello
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">let</span> <span class="z-variable z-other z-koto">a</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">Number</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-other z-koto">_</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-other z-koto">c</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">Bool</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">123</span>, <span class="z-variable z-other z-koto">x</span>, <span class="z-constant z-language z-koto">true</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>, <span class="z-variable z-other z-koto">c</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (123, true)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=let%20x%3A%20String%20%3D%20%27hello%27%0Aprint%20x%0A%23%3A%20hello%0A%0Alet%20a%3A%20Number%2C%20%5F%2C%20c%3A%20Bool%20%3D%20123%2C%20x%2C%20true%0Aprint%20a%2C%20c%0A%23%3A%20%28123%2C%20true%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="for-arguments"><a class="zola-anchor" href="#for-arguments" aria-label="Anchor link for: for-arguments"><code>for</code> arguments</a></h3>
<p>Type hints can also be added to <code>for</code> loop arguments.
The type will be checked on each iteration of the loop.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-koto">for</span> <span class="z-variable z-other z-koto">i</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">Number</span>, <span class="z-variable z-other z-koto">s</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">String</span> <span class="z-keyword z-control z-koto">in</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>abc<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>.<span class="z-variable z-function z-koto">enumerate</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-variable z-other z-koto">i</span>, <span class="z-variable z-other z-koto">s</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (0, &#39;a&#39;)
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (1, &#39;b&#39;)
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (2, &#39;c&#39;)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=for%20i%3A%20Number%2C%20s%3A%20String%20in%20%27abc%27%2Eenumerate%28%29%0A%20%20print%20i%2C%20s%0A%23%3A%20%280%2C%20%27a%27%29%0A%23%3A%20%281%2C%20%27b%27%29%0A%23%3A%20%282%2C%20%27c%27%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="functions-1"><a class="zola-anchor" href="#functions-1" aria-label="Anchor link for: functions-1">Functions</a></h3>
<p>Function arguments can also be given type hints, and the type of the
return value can be checked with the <code>-&gt;</code> operator.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">s</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">String</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-keyword z-operator z-type z-koto">-&gt;</span> <span class="z-storage z-type z-koto">Tuple</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">s</span>.<span class="z-variable z-function z-koto">to_tuple</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>abc<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=f%20%3D%20%7Cs%3A%20String%7C%20%2D%3E%20Tuple%0A%20%20s%2Eto%5Ftuple%28%29%0Aprint%20f%20%27abc%27%0A%23%3A%20%28%27a%27%2C%20%27b%27%2C%20%27c%27%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="match-patterns"><a class="zola-anchor" href="#match-patterns" aria-label="Anchor link for: match-patterns"><code>match</code> patterns</a></h3>
<p>Type hints can be used in <code>match</code> patterns to check the type of the a value.
Rather than throwing an error, if a type check fails then the next
match pattern will be attempted.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-conditional z-koto">match</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>abc<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">x</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">Tuple</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">x</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">String</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-variable z-other z-koto">x</span>.<span class="z-variable z-function z-koto">to_tuple</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20match%20%27abc%27%0A%20%20x%3A%20Tuple%20then%20x%0A%20%20x%3A%20String%20then%20x%2Eto%5Ftuple%28%29%0A%23%3A%20%28%27a%27%2C%20%27b%27%2C%20%27c%27%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="optional-values"><a class="zola-anchor" href="#optional-values" aria-label="Anchor link for: optional-values">Optional Values</a></h3>
<p>Sometimes a value can either be of a particular type, or otherwise it should <code>null</code>.</p>
<p>These kinds of values are referred to as <a href="https://en.wikipedia.org/wiki/Option_type"><em>optional</em></a>,
and are useful for functions or expressions that return either a valid value, or nothing at all.</p>
<p>Optional value types are expressed by appending <code>?</code> to the type hint.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">m</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">foo</span>: <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>hi!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">let</span> <span class="z-variable z-other z-koto">foo</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">String?</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">m</span>.<span class="z-variable z-function z-koto">get</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>foo<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"><span class="z-keyword z-operator z-logical z-koto">?</span>.<span class="z-variable z-function z-koto">to_uppercase</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: HI!
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">let</span> <span class="z-variable z-other z-koto">bar</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">String?</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">m</span>.<span class="z-variable z-function z-koto">get</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>bar<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"><span class="z-keyword z-operator z-logical z-koto">?</span>.<span class="z-variable z-function z-koto">to_uppercase</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: null
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=m%20%3D%20%7Bfoo%3A%20%27hi%21%27%7D%0A%0Aprint%20let%20foo%3A%20String%3F%20%3D%20m%2Eget%28%27foo%27%29%3F%2Eto%5Fuppercase%28%29%0A%23%3A%20HI%21%0A%0Aprint%20let%20bar%3A%20String%3F%20%3D%20m%2Eget%28%27bar%27%29%3F%2Eto%5Fuppercase%28%29%0A%23%3A%20null" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="special-types"><a class="zola-anchor" href="#special-types" aria-label="Anchor link for: special-types">Special Types</a></h3>
<h4 id="any"><a class="zola-anchor" href="#any" aria-label="Anchor link for: any"><code>Any</code></a></h4>
<p>The <code>Any</code> type hint will result in a successful check with any value.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-koto">let</span> <span class="z-variable z-other z-koto">x</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">Any</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>hello<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: hello
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20let%20x%3A%20Any%20%3D%20%27hello%27%0A%23%3A%20hello" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="callable"><a class="zola-anchor" href="#callable" aria-label="Anchor link for: callable"><code>Callable</code></a></h4>
<p>The <code>Callable</code> type hint will accept functions, or any object that can behave
like a function.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-koto">let</span> <span class="z-variable z-other z-koto">say_hello</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">Callable</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>hello<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">say_hello</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: hello
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=let%20say%5Fhello%3A%20Callable%20%3D%20%7C%7C%20%27hello%27%0Aprint%20say%5Fhello%28%29%0A%23%3A%20hello" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="indexable"><a class="zola-anchor" href="#indexable" aria-label="Anchor link for: indexable"><code>Indexable</code></a></h4>
<p>The <code>Indexable</code> type hint will accept any value that supports <code>[]</code> indexing.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">add_first_two</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">x</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">Indexable</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">0</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto"> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">add_first_two</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">100</span>, <span class="z-constant z-numeric z-koto">99</span>, <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 199
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=add%5Ffirst%5Ftwo%20%3D%20%7Cx%3A%20Indexable%7C%20x%5B0%5D%20%2B%20x%5B1%5D%0Aprint%20add%5Ffirst%5Ftwo%20%28100%2C%2099%2C%20%2D1%29%0A%23%3A%20199" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="iterable"><a class="zola-anchor" href="#iterable" aria-label="Anchor link for: iterable"><code>Iterable</code></a></h4>
<p>The <code>Iterable</code> type hint is useful when any iterable value can be accepted.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-koto">let</span> <span class="z-variable z-other z-koto">a</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">Iterable</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-other z-koto">b</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">Iterable</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">, <span class="z-constant z-numeric z-koto">3</span><span class="z-keyword z-operator z-bitwise z-koto">..=</span><span class="z-constant z-numeric z-koto">5</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>.<span class="z-variable z-function z-koto">chain</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-variable z-other z-koto">b</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">to_tuple</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (1, 2, 3, 4, 5)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=let%20a%3A%20Iterable%2C%20b%3A%20Iterable%20%3D%20%5B1%2C%202%5D%2C%203%2E%2E%3D5%0Aprint%20a%2Echain%28b%29%2Eto%5Ftuple%28%29%0A%23%3A%20%281%2C%202%2C%203%2C%204%2C%205%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="string-formatting"><a class="zola-anchor" href="#string-formatting" aria-label="Anchor link for: string-formatting">String Formatting</a></h2>
<p>Interpolated string expressions can be formatted using formatting options
similar to <a href="https://doc.rust-lang.org/std/fmt/#formatting-parameters">Rust's</a>.</p>
<p>Inside an interpolated expression, options are provided after a <code>:</code> separator.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">number</span>.<span class="z-variable z-function z-koto">pi</span>:<span class="z-variable z-other z-koto">𝜋</span>^<span class="z-constant z-numeric z-koto">8.2</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 𝜋𝜋3.14𝜋𝜋
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=print%20%27%7Bnumber%2Epi%3A%F0%9D%9C%8B%5E8%2E2%7D%27%0A%23%3A%20%F0%9D%9C%8B%F0%9D%9C%8B3%2E14%F0%9D%9C%8B%F0%9D%9C%8B" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="minimum-width-and-alignment"><a class="zola-anchor" href="#minimum-width-and-alignment" aria-label="Anchor link for: minimum-width-and-alignment">Minimum Width and Alignment</a></h3>
<p>A minimum width can be specified, ensuring that the formatted value takes up at
least that many characters.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>abcd<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>_</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">foo</span>:<span class="z-constant z-numeric z-koto">8</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">_<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: _abcd    _
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%22abcd%22%0Aprint%20%27%5F%7Bfoo%3A8%7D%5F%27%0A%23%3A%20%5Fabcd%20%20%20%20%5F" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

The minimum width can be prefixed with an alignment modifier:</p>
<ul>
<li><code>&lt;</code> - left-aligned</li>
<li><code>^</code> - centered</li>
<li><code>&gt;</code> - right-aligned</li>
</ul>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>abcd<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>_</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">foo</span>:^<span class="z-constant z-numeric z-koto">8</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">_<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: _  abcd  _
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%22abcd%22%0Aprint%20%27%5F%7Bfoo%3A%5E8%7D%5F%27%0A%23%3A%20%5F%20%20abcd%20%20%5F" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

All values are left-aligned if an alignment modifier isn't specified,
except for numbers which are right-aligned by default.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">1.2</span>
</span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>_</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">x</span>:<span class="z-constant z-numeric z-koto">8</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">_<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: _     1.2_
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%201%2E2%0Aprint%20%27%5F%7Bx%3A8%7D%5F%27%0A%23%3A%20%5F%20%20%20%20%201%2E2%5F" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

The alignment modifier can be prefixed with a character which will be used to
fill any empty space in the formatted string (the default character being <code> </code>).</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">1.2</span>
</span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>_</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">x</span>:~<span class="z-keyword z-operator z-comparison z-koto">&lt;</span><span class="z-constant z-numeric z-koto">8</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">_<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: _1.2~~~~~_
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%201%2E2%0Aprint%20%27%5F%7Bx%3A%7E%3C8%7D%5F%27%0A%23%3A%20%5F1%2E2%7E%7E%7E%7E%7E%5F" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

For numbers, the minimum width can be prefixed with <code>0</code>, which will pad the
number to the specified width with zeroes.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">1.2</span>
</span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">x</span>:<span class="z-constant z-numeric z-koto">06</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 0001.2
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%201%2E2%0Aprint%20%27%7Bx%3A06%7D%27%0A%23%3A%200001%2E2" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="maximum-width-precision"><a class="zola-anchor" href="#maximum-width-precision" aria-label="Anchor link for: maximum-width-precision">Maximum Width / Precision</a></h3>
<p>A maximum width for the interpolated expression can be specified following a
<code>.</code> character.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>abcd<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">foo</span><span class="z-punctuation z-separator z-koto">:</span><span class="z-storage z-type z-koto">_</span>^<span class="z-constant z-numeric z-koto">8.2</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: ___ab___
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%22abcd%22%0Aprint%20%27%7Bfoo%3A%5F%5E8%2E2%7D%27%0A%23%3A%20%5F%5F%5Fab%5F%5F%5F" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

For numbers, the maximum width acts as a 'precision' value, or in other words,
the number of decimal places that will be rendered for the number.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-arithmetic z-koto">/</span> <span class="z-constant z-numeric z-koto">3</span>
</span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">x</span>:.<span class="z-constant z-numeric z-koto">4</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 0.3333
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%201%20%2F%203%0Aprint%20%27%7Bx%3A%2E4%7D%27%0A%23%3A%200%2E3333" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="representation"><a class="zola-anchor" href="#representation" aria-label="Anchor link for: representation">Representation</a></h3>
<p>Values can be formatted with alternative representations, with representations chosen with a character at the end of the format options.</p>
<ul>
<li><code>?</code> - The value will be formatted with additional debug information when available.</li>
</ul>
<p>The following representations are only supported for numbers:</p>
<ul>
<li><code>e</code> - exponential (lower-case)</li>
<li><code>E</code> - exponential (upper-case)</li>
</ul>
<p>The following representations are only supported for integers:</p>
<ul>
<li><code>b</code> - binary</li>
<li><code>o</code> - octal</li>
<li><code>x</code> - hexadecimal (lower-case)</li>
<li><code>X</code> - hexadecimal (upper-case)</li>
</ul>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">z</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">60</span>
</span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">z</span>:<span class="z-keyword z-operator z-logical z-koto">?</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 60
</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">z</span><span class="z-punctuation z-separator z-koto">:</span><span class="z-storage z-type z-koto">x</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 3c
</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>0x</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">z</span><span class="z-punctuation z-separator z-koto">:</span><span class="z-storage z-type z-koto">X</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 0x3C
</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">z</span><span class="z-punctuation z-separator z-koto">:</span><span class="z-storage z-type z-koto">o</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 74
</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>0b</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">z</span>:08b<span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 0b00111100
</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">z</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-constant z-numeric z-koto">1000</span>:<span class="z-variable z-other z-koto">e</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 6e4
</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">z</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> 1_000_000:<span class="z-variable z-other z-koto">E</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 6E7
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=z%20%3D%2060%0Aprint%20%27%7Bz%3A%3F%7D%27%0A%23%3A%2060%0Aprint%20%27%7Bz%3Ax%7D%27%0A%23%3A%203c%0Aprint%20%270x%7Bz%3AX%7D%27%0A%23%3A%200x3C%0Aprint%20%27%7Bz%3Ao%7D%27%0A%23%3A%2074%0Aprint%20%270b%7Bz%3A08b%7D%27%0A%23%3A%200b00111100%0Aprint%20%27%7Bz%20%2A%201000%3Ae%7D%27%0A%23%3A%206e4%0Aprint%20%27%7Bz%20%2A%201%5F000%5F000%3AE%7D%27%0A%23%3A%206E7" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="advanced-functions"><a class="zola-anchor" href="#advanced-functions" aria-label="Anchor link for: advanced-functions">Advanced Functions</a></h2>
<p>Functions in Koto have some advanced features that are worth exploring.</p>
<h3 id="captured-variables"><a class="zola-anchor" href="#captured-variables" aria-label="Anchor link for: captured-variables">Captured Variables</a></h3>
<p>When a variable is accessed in a function that wasn't declared locally,
then it gets <em>captured</em> by copying it into the function.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">my_function</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> x is assigned outside the function,
</span></span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> so it gets captured when the function is created.
</span></span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Reassigning x here doesn&#39;t modify the value
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> of x that was captured when my_function was created.
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">100</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">my_function</span> <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 3
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%201%0A%0Amy%5Ffunction%20%3D%20%7Cn%7C%0A%20%20%23%20x%20is%20assigned%20outside%20the%20function%2C%0A%20%20%23%20so%20it%20gets%20captured%20when%20the%20function%20is%20created%2E%0A%20%20n%20%2B%20x%0A%0A%23%20Reassigning%20x%20here%20doesn%27t%20modify%20the%20value%0A%23%20of%20x%20that%20was%20captured%20when%20my%5Ffunction%20was%20created%2E%0Ax%20%3D%20100%0A%0Aprint%20my%5Ffunction%202%0A%23%3A%203" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

This behavior is different to many other languages,
where captures are often taken by <em>reference</em> rather than by <em>copy</em>.</p>
<p>It's also worth noting that captured variables will have the same starting value
each time the function is called.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">99</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Modifying x only happens with a local copy during a function call.
</span></span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> The value of x at the start of the call matches when the value it had when
</span></span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> it was captured.
</span></span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">+=</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">, <span class="z-variable z-other z-koto">f</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">, <span class="z-variable z-other z-koto">f</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (100, 100, 100)
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%2099%0Af%20%3D%20%7C%7C%0A%20%20%23%20Modifying%20x%20only%20happens%20with%20a%20local%20copy%20during%20a%20function%20call%2E%0A%20%20%23%20The%20value%20of%20x%20at%20the%20start%20of%20the%20call%20matches%20when%20the%20value%20it%20had%20when%0A%20%20%23%20it%20was%20captured%2E%0A%20%20x%20%2B%3D%201%0A%0Aprint%20f%28%29%2C%20f%28%29%2C%20f%28%29%0A%23%3A%20%28100%2C%20100%2C%20100%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

To modify captured values, use a container (like a map) to hold on to mutable
data.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">data</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">x</span>: <span class="z-constant z-numeric z-koto">99</span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> The data map gets captured by the function,
</span></span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> and its contained values can be modified between calls.
</span></span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">data</span>.<span class="z-variable z-function z-koto">x</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">+=</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">, <span class="z-variable z-other z-koto">f</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">, <span class="z-variable z-other z-koto">f</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (100, 101, 102)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=data%20%3D%20%7Bx%3A%2099%7D%0A%0Af%20%3D%20%7C%7C%0A%20%20%23%20The%20data%20map%20gets%20captured%20by%20the%20function%2C%0A%20%20%23%20and%20its%20contained%20values%20can%20be%20modified%20between%20calls%2E%0A%20%20data%2Ex%20%2B%3D%201%0A%0Aprint%20f%28%29%2C%20f%28%29%2C%20f%28%29%0A%23%3A%20%28100%2C%20101%2C%20102%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="variadic-functions"><a class="zola-anchor" href="#variadic-functions" aria-label="Anchor link for: variadic-functions">Variadic Functions</a></h3>
<p>A <a href="https://en.wikipedia.org/wiki/Variadic_function"><em>variadic function</em></a> can be created by appending <code>...</code> to the last argument.
When the function is called, any extra arguments will be collected into a tuple.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">a</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">b</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">others...</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>a: </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">a</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto">, b: </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">b</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto">, others: </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">others</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span>, <span class="z-constant z-numeric z-koto">4</span>, <span class="z-constant z-numeric z-koto">5</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: a: 1, b: 2, others: (3, 4, 5)
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-constant z-numeric z-koto">10</span>, <span class="z-constant z-numeric z-koto">20</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: a: 10, b: 20, others: ()
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=f%20%3D%20%7Ca%2C%20b%2C%20others%2E%2E%2E%7C%0A%20%20print%20%22a%3A%20%7Ba%7D%2C%20b%3A%20%7Bb%7D%2C%20others%3A%20%7Bothers%7D%22%0A%0Af%201%2C%202%2C%203%2C%204%2C%205%0A%23%3A%20a%3A%201%2C%20b%3A%202%2C%20others%3A%20%283%2C%204%2C%205%29%0Af%2010%2C%2020%0A%23%3A%20a%3A%2010%2C%20b%3A%2020%2C%20others%3A%20%28%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="optional-arguments"><a class="zola-anchor" href="#optional-arguments" aria-label="Anchor link for: optional-arguments">Optional Arguments</a></h3>
<p>Function arguments can be given default values, making them <em>optional</em>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">a</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">b</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">c</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">3</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-parameter z-koto">print</span> <span class="z-variable z-parameter z-koto">a</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">b</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">c</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-parameter z-koto">f</span> 1
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (1, 2, 3)
</span></span><span class="z-source z-koto"><span class="z-variable z-parameter z-koto">f</span> 1<span class="z-punctuation z-separator z-koto">,</span> -2
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (1, -2, 3)
</span></span><span class="z-source z-koto"><span class="z-variable z-parameter z-koto">f</span> 1<span class="z-punctuation z-separator z-koto">,</span> -2<span class="z-punctuation z-separator z-koto">,</span> -3
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (1, -2, -3)
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=f%20%3D%20%7Ca%2C%20b%20%3D%202%2C%20c%20%3D%203%7C%0A%20%20print%20a%2C%20b%2C%20c%0A%0Af%201%0A%23%3A%20%281%2C%202%2C%203%29%0Af%201%2C%20%2D2%0A%23%3A%20%281%2C%20%2D2%2C%203%29%0Af%201%2C%20%2D2%2C%20%2D3%0A%23%3A%20%281%2C%20%2D2%2C%20%2D3%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Default argument values behave like <a href="https://koto.dev/docs/next/language/#captured-variables">captured variables</a>,
with the same value being applied each time the function is called.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">10</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-parameter z-koto">x</span> +<span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span>()
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 11
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span>()
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 11
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=f%20%3D%20%7Cx%20%3D%2010%7C%0A%20%20x%20%2B%3D%201%0A%20%20x%0A%0Aprint%20f%28%29%0A%23%3A%2011%0Aprint%20f%28%29%0A%23%3A%2011" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

All arguments following an optional argument must also be optional,
unless the last argument is <a href="https://koto.dev/docs/next/language/#variadic-functions">variadic</a>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> f = |a = 1, b| a, b
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>             ^ Error!
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">a</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">b...</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">a</span>, <span class="z-variable z-other z-koto">b</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>           ^ Ok!
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (1, ())
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (1, (2, 3))
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20f%20%3D%20%7Ca%20%3D%201%2C%20b%7C%20a%2C%20b%0A%23%20%20%20%20%20%20%20%20%20%20%20%20%20%5E%20Error%21%0A%0Af%20%3D%20%7Ca%20%3D%201%2C%20b%2E%2E%2E%7C%20a%2C%20b%0A%23%20%20%20%20%20%20%20%20%20%20%20%5E%20Ok%21%0A%0Aprint%20f%28%29%0A%23%3A%20%281%2C%20%28%29%29%0Aprint%20f%281%2C%202%2C%203%29%0A%23%3A%20%281%2C%20%282%2C%203%29%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="mutable-default-argument-values"><a class="zola-anchor" href="#mutable-default-argument-values" aria-label="Anchor link for: mutable-default-argument-values">Mutable Default Argument Values</a></h4>
<p>It's worth noting that mutable values (like <a href="https://koto.dev/docs/next/language/#lists">lists</a> and <a href="https://koto.dev/docs/next/language/#maps">maps</a>) share their state between calls when used as default argument values.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">value</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">values</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> []<span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-parameter z-koto">values</span>.<span class="z-variable z-parameter z-koto">push</span> <span class="z-variable z-parameter z-koto">value</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-parameter z-koto">f</span> 1
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: [1]
</span></span><span class="z-source z-koto"><span class="z-variable z-parameter z-koto">f</span> 2
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: [1, 2]
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=f%20%3D%20%7Cvalue%2C%20values%20%3D%20%5B%5D%7C%0A%20%20values%2Epush%20value%0A%0Aprint%20f%201%0A%23%3A%20%5B1%5D%0Aprint%20f%202%0A%23%3A%20%5B1%2C%202%5D" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

This might seem a bit strange at first (why doesn't the <code>values</code> argument start with an empty list on each call?), but it might help to consider what happens when a named variable is given as the default value.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">z</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">value</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">values</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">z</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-parameter z-koto">values</span>.<span class="z-variable z-parameter z-koto">push</span> <span class="z-variable z-parameter z-koto">value</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-parameter z-koto">f</span> 3
</span><span class="z-source z-koto"><span class="z-variable z-parameter z-koto">f</span> 4
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> z was used as the default value for the function&#39;s `values` argument.
</span></span><span class="z-source z-koto"><span class="z-variable z-parameter z-koto">z</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: [1, 2, 3, 4]
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=z%20%3D%20%5B1%2C%202%5D%0Af%20%3D%20%7Cvalue%2C%20values%20%3D%20z%7C%0A%20%20values%2Epush%20value%0A%0Af%203%0Af%204%0A%0A%23%20z%20was%20used%20as%20the%20default%20value%20for%20the%20function%27s%20%60values%60%20argument%2E%0Aprint%20z%0A%23%3A%20%5B1%2C%202%2C%203%2C%204%5D" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Lists usually share state between instances when <a href="https://koto.dev/docs/next/language/#captured-variables">captured</a> in functions, and a hidden <a href="../core/koto#copy"><code>copy</code></a> on each call would be surprising, and potentially expensive.</p>
<h3 id="unpacking-container-arguments"><a class="zola-anchor" href="#unpacking-container-arguments" aria-label="Anchor link for: unpacking-container-arguments">Unpacking Container Arguments</a></h3>
<p>Functions that expect containers as arguments can <em>unpack</em> the container's
elements directly by using parentheses.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> A function that sums a value that contains three values
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-punctuation z-definition z-arguments z-begin z-koto">(</span><span class="z-variable z-parameter z-koto">a</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">b</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">c</span><span class="z-punctuation z-definition z-arguments z-end z-koto">)</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">b</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">c</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">100</span>, <span class="z-constant z-numeric z-koto">10</span>, <span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 111
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20A%20function%20that%20sums%20a%20value%20that%20contains%20three%20values%0Af%20%3D%20%7C%28a%2C%20b%2C%20c%29%7C%20a%20%2B%20b%20%2B%20c%0A%0Ax%20%3D%20%5B100%2C%2010%2C%201%5D%0Aprint%20f%20x%0A%23%3A%20111" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Any container that supports indexing operations (like lists and tuples)
with a matching number of elements will be unpacked,
otherwise an error will be thrown.</p>
<p>Unpacked arguments can also be nested.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> A function that sums elements from nested containers
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-punctuation z-definition z-arguments z-begin z-koto">(</span><span class="z-punctuation z-definition z-arguments z-begin z-koto">(</span><span class="z-variable z-parameter z-koto">a</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">b</span><span class="z-punctuation z-definition z-arguments z-end z-koto">)</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-punctuation z-definition z-arguments z-begin z-koto">(</span><span class="z-variable z-parameter z-koto">c</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">d</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">e</span><span class="z-punctuation z-definition z-arguments z-end z-koto">)</span><span class="z-punctuation z-definition z-arguments z-end z-koto">)</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">b</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">c</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">d</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">e</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-meta z-parens">, </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">3</span>, <span class="z-constant z-numeric z-koto">4</span>, <span class="z-constant z-numeric z-koto">5</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 15
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20A%20function%20that%20sums%20elements%20from%20nested%20containers%0Af%20%3D%20%7C%28%28a%2C%20b%29%2C%20%28c%2C%20d%2C%20e%29%29%7C%0A%20%20a%20%2B%20b%20%2B%20c%20%2B%20d%20%2B%20e%0Ax%20%3D%20%28%5B1%2C%202%5D%2C%20%5B3%2C%204%2C%205%5D%29%0Aprint%20f%20x%0A%23%3A%2015" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

An ellipsis (<code>...</code>) can be used to unpack any number of elements at the start or end of a container.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-punctuation z-definition z-arguments z-begin z-koto">(</span>...<span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">last</span><span class="z-punctuation z-definition z-arguments z-end z-koto">)</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">last</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-variable z-other z-koto">last</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span>, <span class="z-constant z-numeric z-koto">4</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 16
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=f%20%3D%20%7C%28%2E%2E%2E%2C%20last%29%7C%20last%20%2A%20last%0Ax%20%3D%20%281%2C%202%2C%203%2C%204%29%0Aprint%20f%20x%0A%23%3A%2016" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

A name can be added an ellipsis to capture the unpacked elements in a tuple.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-punctuation z-definition z-arguments z-begin z-koto">(</span><span class="z-variable z-parameter z-koto">first</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">others...</span><span class="z-punctuation z-definition z-arguments z-end z-koto">)</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">first</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-variable z-other z-koto">others</span>.<span class="z-variable z-function z-koto">sum</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">10</span>, <span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 60
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=f%20%3D%20%7C%28first%2C%20others%2E%2E%2E%29%7C%20first%20%2A%20others%2Esum%28%29%0Ax%20%3D%20%2810%2C%201%2C%202%2C%203%29%0Aprint%20f%20x%0A%23%3A%2060" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="ignoring-arguments"><a class="zola-anchor" href="#ignoring-arguments" aria-label="Anchor link for: ignoring-arguments">Ignoring Arguments</a></h3>
<p>As with <a href="https://koto.dev/docs/next/language/#ignoring-unpacked-values">assignments</a>, <code>_</code> can be used to ignore function arguments.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> A function that sums the first and third elements of a container
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-punctuation z-definition z-arguments z-begin z-koto">(</span><span class="z-variable z-parameter z-koto">a</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">_</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">c</span><span class="z-punctuation z-definition z-arguments z-end z-koto">)</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">c</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">100</span>, <span class="z-constant z-numeric z-koto">10</span>, <span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 101
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20A%20function%20that%20sums%20the%20first%20and%20third%20elements%20of%20a%20container%0Af%20%3D%20%7C%28a%2C%20%5F%2C%20c%29%7C%20a%20%2B%20c%0A%0Aprint%20f%20%5B100%2C%2010%2C%201%5D%0A%23%3A%20101" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">my_map</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">foo1</span>: <span class="z-constant z-numeric z-koto">1</span>, <span class="z-variable z-other z-koto">bar1</span>: <span class="z-constant z-numeric z-koto">2</span>, <span class="z-variable z-other z-koto">foo2</span>: <span class="z-constant z-numeric z-koto">3</span>, <span class="z-variable z-other z-koto">bar2</span>: <span class="z-constant z-numeric z-koto">4</span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">my_map</span>
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">keep</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-punctuation z-definition z-arguments z-begin z-koto">(</span><span class="z-variable z-parameter z-koto">key</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">_value</span><span class="z-punctuation z-definition z-arguments z-end z-koto">)</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">key</span>.<span class="z-variable z-function z-koto">starts_with</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>foo<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">to_tuple</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: ((&#39;foo1&#39;, 1), (&#39;foo2&#39;, 3))
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=my%5Fmap%20%3D%20%7Bfoo1%3A%201%2C%20bar1%3A%202%2C%20foo2%3A%203%2C%20bar2%3A%204%7D%0A%0Aprint%20my%5Fmap%0A%20%20%2Ekeep%20%7C%28key%2C%20%5Fvalue%29%7C%20key%2Estarts%5Fwith%20%27foo%27%0A%20%20%2Eto%5Ftuple%28%29%0A%23%3A%20%28%28%27foo1%27%2C%201%29%2C%20%28%27foo2%27%2C%203%29%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="packed-call-arguments"><a class="zola-anchor" href="#packed-call-arguments" aria-label="Anchor link for: packed-call-arguments">Packed Call Arguments</a></h3>
<p>When calling a function, a <em>packed argument</em> is any argument to which <code>...</code> is appended.
The runtime will replace the packed argument with the output of iterating over the argument's contents.
Any iterable value can be unpacked.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">a</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">b</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">c</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">b</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">c</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">10</span>, <span class="z-constant z-numeric z-koto">20</span>, <span class="z-constant z-numeric z-koto">30</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-variable z-other z-koto">x</span><span class="z-keyword z-operator z-bitwise z-koto">...</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 60
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span><span class="z-keyword z-operator z-bitwise z-koto">..</span><span class="z-constant z-numeric z-koto">10</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">take</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"><span class="z-keyword z-operator z-bitwise z-koto">...</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 6
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=f%20%3D%20%7Ca%2C%20b%2C%20c%7C%20a%20%2B%20b%20%2B%20c%0A%0Ax%20%3D%2010%2C%2020%2C%2030%0Aprint%20f%20x%2E%2E%2E%0A%23%3A%2060%0A%0Aprint%20f%20%281%2E%2E10%29%2Etake%283%29%2E%2E%2E%0A%23%3A%206" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

This is especially useful when <a href="https://koto.dev/docs/next/language/#variadic-functions">variadic arguments</a> need
to be forwarded to another variadic function.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">args...</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-koto">for</span> <span class="z-variable z-other z-koto">i</span>, <span class="z-variable z-other z-koto">arg</span> <span class="z-keyword z-control z-koto">in</span> <span class="z-variable z-other z-koto">args</span>.<span class="z-variable z-function z-koto">enumerate</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">    <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">i</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">: </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">arg</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">g</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">args...</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">f</span> <span class="z-variable z-other z-koto">args</span><span class="z-keyword z-operator z-bitwise z-koto">...</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">g</span> <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">4</span>, <span class="z-constant z-numeric z-koto">6</span>, <span class="z-constant z-numeric z-koto">8</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 0: 2
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 1: 4
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 2: 6
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 3: 8
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=f%20%3D%20%7Cargs%2E%2E%2E%7C%0A%20%20for%20i%2C%20arg%20in%20args%2Eenumerate%28%29%0A%20%20%20%20print%20%27%7Bi%7D%3A%20%7Barg%7D%27%0A%0Ag%20%3D%20%7Cargs%2E%2E%2E%7C%20f%20args%2E%2E%2E%0Ag%202%2C%204%2C%206%2C%208%0A%23%3A%200%3A%202%0A%23%3A%201%3A%204%0A%23%3A%202%3A%206%0A%23%3A%203%3A%208" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

More than one argument can be unpacked during a call.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">args...</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-koto">for</span> <span class="z-variable z-other z-koto">i</span>, <span class="z-variable z-other z-koto">arg</span> <span class="z-keyword z-control z-koto">in</span> <span class="z-variable z-other z-koto">args</span>.<span class="z-variable z-function z-koto">enumerate</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">    <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">i</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">: </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">arg</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">10</span>, <span class="z-constant z-numeric z-koto">20</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">y</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">99</span>, <span class="z-constant z-numeric z-koto">100</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-variable z-other z-koto">x</span><span class="z-keyword z-operator z-bitwise z-koto">...</span>, <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-variable z-other z-koto">y</span><span class="z-keyword z-operator z-bitwise z-koto">...</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 0: 10
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 1: 20
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 2: -1
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 3: 99
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 4: 100
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=f%20%3D%20%7Cargs%2E%2E%2E%7C%0A%20%20for%20i%2C%20arg%20in%20args%2Eenumerate%28%29%0A%20%20%20%20print%20%27%7Bi%7D%3A%20%7Barg%7D%27%0A%0Ax%20%3D%2010%2C%2020%0Ay%20%3D%2099%2C%20100%0Af%20x%2E%2E%2E%2C%20%2D1%2C%20y%2E%2E%2E%0A%23%3A%200%3A%2010%0A%23%3A%201%3A%2020%0A%23%3A%202%3A%20%2D1%0A%23%3A%203%3A%2099%0A%23%3A%204%3A%20100" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="generators"><a class="zola-anchor" href="#generators" aria-label="Anchor link for: generators">Generators</a></h2>
<p>Generators are iterators that are made by calling <em>generator functions</em>,
which are any functions that contain a <code>yield</code> expression.</p>
<p>The generator is paused each time <code>yield</code> is encountered,
waiting for the caller to continue execution.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">my_first_generator</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-flow z-koto">yield</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-flow z-koto">yield</span> <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">my_first_generator</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>.<span class="z-variable z-function z-koto">next</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: IteratorOutput(1)
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>.<span class="z-variable z-function z-koto">next</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: IteratorOutput(2)
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>.<span class="z-variable z-function z-koto">next</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: null
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=my%5Ffirst%5Fgenerator%20%3D%20%7C%7C%0A%20%20yield%201%0A%20%20yield%202%0A%0Ax%20%3D%20my%5Ffirst%5Fgenerator%28%29%0Aprint%20x%2Enext%28%29%0A%23%3A%20IteratorOutput%281%29%0Aprint%20x%2Enext%28%29%0A%23%3A%20IteratorOutput%282%29%0Aprint%20x%2Enext%28%29%0A%23%3A%20null" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Generator functions can accept arguments like any other function,
and each time they're called a new generator is created.</p>
<p>As with any other iterable value, the <a href="../core/iterator"><code>iterator</code></a> module's functions
are made available to generators.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">make_generator</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">x</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-koto">for</span> <span class="z-variable z-other z-koto">y</span> <span class="z-keyword z-control z-koto">in</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">    <span class="z-keyword z-control z-flow z-koto">yield</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">y</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">make_generator</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">0</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">to_tuple</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (1, 2, 3)
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">make_generator</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">10</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Keep odd numbers, and discard even numbers
</span></span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">keep</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">%</span> <span class="z-constant z-numeric z-koto">2</span> <span class="z-keyword z-operator z-comparison z-koto">==</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">to_list</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: [11, 13]
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=make%5Fgenerator%20%3D%20%7Cx%7C%0A%20%20for%20y%20in%20%281%2C%202%2C%203%29%0A%20%20%20%20yield%20x%20%2B%20y%0A%0Aprint%20make%5Fgenerator%280%29%2Eto%5Ftuple%28%29%0A%23%3A%20%281%2C%202%2C%203%29%0A%0Aprint%20make%5Fgenerator%2810%29%0A%20%20%23%20Keep%20odd%20numbers%2C%20and%20discard%20even%20numbers%0A%20%20%2Ekeep%20%7Cn%7C%20n%20%25%202%20%3D%3D%201%0A%20%20%2Eto%5Flist%28%29%0A%23%3A%20%5B11%2C%2013%5D" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

When defining a generator, a <code>-&gt;</code> <a href="https://koto.dev/docs/next/language/#type-checks">type hint</a> is used to check
the type of the generator's <code>yield</code> expressions.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">g</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-keyword z-operator z-type z-koto">-&gt;</span> <span class="z-storage z-type z-koto">Number</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-flow z-koto">yield</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-flow z-koto">yield</span> <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-flow z-koto">yield</span> <span class="z-constant z-numeric z-koto">3</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">g</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">to_tuple</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (1, 2, 3)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=g%20%3D%20%7C%7C%20%2D%3E%20Number%0A%20%20yield%201%0A%20%20yield%202%0A%20%20yield%203%0Aprint%20g%28%29%2Eto%5Ftuple%28%29%0A%23%3A%20%281%2C%202%2C%203%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="custom-iterator-adaptors"><a class="zola-anchor" href="#custom-iterator-adaptors" aria-label="Anchor link for: custom-iterator-adaptors">Custom Iterator Adaptors</a></h3>
<p>Generators can also serve as <em>iterator adaptors</em> by modifying the output of
another iterator.</p>
<p>Inserting a generator into the <a href="../core/iterator"><code>iterator</code></a> module makes it available
in any iterator chain.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Make an iterator adaptor that yields every
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> other value from the adapted iterator
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">iterator</span>.<span class="z-variable z-function z-koto">every_other</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">iter</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">null</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-parameter z-koto">n</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">0</span>
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> If the iterator to be adapted is provided as an argument then use it,
</span></span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> otherwise defer to `self`, which is set by the runtime when the
</span></span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> generator is used in an iterator chain.
</span></span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">for</span> <span class="z-variable z-other z-koto">output</span> <span class="z-variable z-other z-koto">in</span> <span class="z-variable z-other z-koto">iter</span> <span class="z-keyword z-operator z-word z-koto">or</span> <span class="z-variable z-other z-koto">self</span>
</span><span class="z-source z-koto">    <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> If n is even, then yield a value
</span></span><span class="z-source z-koto">    <span class="z-variable z-other z-koto">if</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">%</span> <span class="z-constant z-numeric z-koto">2</span> <span class="z-keyword z-operator z-comparison z-koto">==</span> <span class="z-constant z-numeric z-koto">0</span>
</span><span class="z-source z-koto">      <span class="z-variable z-other z-koto">yield</span> <span class="z-variable z-other z-koto">output</span>
</span><span class="z-source z-koto">    <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">+=</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> The adaptor can be called directly...
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">iterator</span>.<span class="z-variable z-function z-koto">every_other</span>(<span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>abcdef<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>).<span class="z-variable z-function z-koto">to_string</span>()
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: ace
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> ...or anywhere in an iterator chain
</span></span><span class="z-source z-koto">(<span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-separator z-koto">,</span> 2<span class="z-punctuation z-separator z-koto">,</span> 3<span class="z-punctuation z-separator z-koto">,</span> 4<span class="z-punctuation z-separator z-koto">,</span> 5)
</span><span class="z-source z-koto">  .<span class="z-variable z-parameter z-koto">each</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-other z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-parameter z-koto">n</span> * 10
</span><span class="z-source z-koto">  .<span class="z-variable z-parameter z-koto">every_other</span><span class="z-punctuation z-definition z-arguments z-begin z-koto">(</span><span class="z-punctuation z-definition z-arguments z-end z-koto">)</span>
</span><span class="z-source z-koto">  .<span class="z-variable z-parameter z-koto">to_list</span><span class="z-punctuation z-definition z-arguments z-begin z-koto">(</span><span class="z-punctuation z-definition z-arguments z-end z-koto">)</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: [10, 30, 50]
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20Make%20an%20iterator%20adaptor%20that%20yields%20every%0A%23%20other%20value%20from%20the%20adapted%20iterator%0Aiterator%2Eevery%5Fother%20%3D%20%7Citer%20%3D%20null%7C%0A%20%20n%20%3D%200%0A%20%20%23%20If%20the%20iterator%20to%20be%20adapted%20is%20provided%20as%20an%20argument%20then%20use%20it%2C%0A%20%20%23%20otherwise%20defer%20to%20%60self%60%2C%20which%20is%20set%20by%20the%20runtime%20when%20the%0A%20%20%23%20generator%20is%20used%20in%20an%20iterator%20chain%2E%0A%20%20for%20output%20in%20iter%20or%20self%0A%20%20%20%20%23%20If%20n%20is%20even%2C%20then%20yield%20a%20value%0A%20%20%20%20if%20n%20%25%202%20%3D%3D%200%0A%20%20%20%20%20%20yield%20output%0A%20%20%20%20n%20%2B%3D%201%0A%0A%23%20The%20adaptor%20can%20be%20called%20directly%2E%2E%2E%0Aprint%20iterator%2Eevery%5Fother%28%27abcdef%27%29%2Eto%5Fstring%28%29%0A%23%3A%20ace%0A%0A%23%20%2E%2E%2Eor%20anywhere%20in%20an%20iterator%20chain%0Aprint%20%281%2C%202%2C%203%2C%204%2C%205%29%0A%20%20%2Eeach%20%7Cn%7C%20n%20%2A%2010%0A%20%20%2Eevery%5Fother%28%29%0A%20%20%2Eto%5Flist%28%29%0A%23%3A%20%5B10%2C%2030%2C%2050%5D" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="objects-and-metamaps"><a class="zola-anchor" href="#objects-and-metamaps" aria-label="Anchor link for: objects-and-metamaps">Objects and Metamaps</a></h2>
<p>Value types with custom behaviour can be defined in Koto through the concept of
<em>objects</em>.</p>
<p>An object is any map that includes one or more <em>metakeys</em>
(keys prefixed with <code>@</code>), that are stored in the object's <em>metamap</em>.
Whenever operations are performed on the object, the runtime checks its metamap
for corresponding metakeys.</p>
<p>In the following example, the addition and multiply-assignment operators are
implemented for a custom <code>Foo</code> object:</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Declare a function that makes Foo objects
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">data</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">n</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Declare the object&#39;s type
</span></span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@type</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Foo<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Implement the addition operator
</span></span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@+:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">other</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">    <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> A new Foo is made using the result
</span></span><span class="z-source z-koto">    <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> of adding the two data values together
</span></span><span class="z-source z-koto">    <span class="z-variable z-other z-koto">foo</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">other</span>.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Implement the multiply-assignment operator
</span></span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@*=:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">other</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">    <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">*=</span> <span class="z-variable z-other z-koto">other</span>.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto">    <span class="z-variable z-language z-koto">self</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">foo</span> <span class="z-constant z-numeric z-koto">10</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">type</span> <span class="z-variable z-other z-koto">a</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Foo
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">b</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">foo</span> <span class="z-constant z-numeric z-koto">20</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">b</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 30
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">*=</span> <span class="z-variable z-other z-koto">b</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 200
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20Declare%20a%20function%20that%20makes%20Foo%20objects%0Afoo%20%3D%20%7Cn%7C%0A%20%20data%3A%20n%0A%0A%20%20%23%20Declare%20the%20object%27s%20type%0A%20%20%40type%3A%20%27Foo%27%0A%0A%20%20%23%20Implement%20the%20addition%20operator%0A%20%20%40%2B%3A%20%7Cother%7C%0A%20%20%20%20%23%20A%20new%20Foo%20is%20made%20using%20the%20result%0A%20%20%20%20%23%20of%20adding%20the%20two%20data%20values%20together%0A%20%20%20%20foo%20self%2Edata%20%2B%20other%2Edata%0A%0A%20%20%23%20Implement%20the%20multiply%2Dassignment%20operator%0A%20%20%40%2A%3D%3A%20%7Cother%7C%0A%20%20%20%20self%2Edata%20%2A%3D%20other%2Edata%0A%20%20%20%20self%0A%0Aa%20%3D%20foo%2010%0A%0Aprint%20type%20a%0A%23%3A%20Foo%0A%0Ab%20%3D%20foo%2020%0A%0Aprint%20%28a%20%2B%20b%29%2Edata%0A%23%3A%2030%0A%0Aa%20%2A%3D%20b%0Aprint%20a%2Edata%0A%23%3A%20200" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="arithmetic-operators"><a class="zola-anchor" href="#arithmetic-operators" aria-label="Anchor link for: arithmetic-operators">Arithmetic Operators</a></h3>
<p>All arithmetic operators used in binary expressions can be implemented in an object's metamap
by implementing functions for the appropriate metakeys.</p>
<p>When the object is on the left-hand side (<em>LHS</em>) of the expression the metakeys are
<code>@+</code>, <code>@-</code>, <code>@*</code>, <code>@/</code>, <code>@%</code>, and <code>@^</code>.</p>
<p>If the value on the LHS of the expression doesn't support the operation and the object is on the
right-hand side (<em>RHS</em>), then the metakeys are <code>@r+</code>, <code>@r-</code>, <code>@r*</code>, <code>@r/</code>, <code>@r%</code>, and <code>@r^</code>.</p>
<p>If your type only supports an operation when the input has a certain type,
then throw a <a href="../core/koto#unimplemented"><code>koto.unimplemented</code></a> error to let the runtime know that
the RHS value should be checked. The runtime will catch the error and then attempt the operation
with the implementation provided by the RHS value.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">data</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">n</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@type</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Foo<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> The * operator when the object is on the LHS
</span></span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@*:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">rhs</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">    <span class="z-keyword z-control z-conditional z-koto">match</span> <span class="z-variable z-other z-koto">type</span> <span class="z-variable z-other z-koto">rhs</span>
</span><span class="z-source z-koto">      <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Foo<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-variable z-other z-koto">foo</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-variable z-other z-koto">rhs</span>.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto">      <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Number<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-variable z-other z-koto">foo</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-variable z-other z-koto">rhs</span>
</span><span class="z-source z-koto">      <span class="z-keyword z-control z-conditional z-koto">else</span> <span class="z-keyword z-control z-koto">throw</span> <span class="z-variable z-other z-koto">koto</span>.<span class="z-variable z-function z-koto">unimplemented</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> The * operator when the object is on the RHS
</span></span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@r*:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">lhs</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">foo</span> <span class="z-variable z-other z-koto">lhs</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">foo</span> <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">b</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">foo</span> <span class="z-constant z-numeric z-koto">3</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-variable z-other z-koto">b</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 6
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">10</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-variable z-other z-koto">a</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 20
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%7Cn%7C%0A%20%20data%3A%20n%0A%0A%20%20%40type%3A%20%27Foo%27%0A%0A%20%20%23%20The%20%2A%20operator%20when%20the%20object%20is%20on%20the%20LHS%0A%20%20%40%2A%3A%20%7Crhs%7C%0A%20%20%20%20match%20type%20rhs%0A%20%20%20%20%20%20%27Foo%27%20then%20foo%20self%2Edata%20%2A%20rhs%2Edata%0A%20%20%20%20%20%20%27Number%27%20then%20foo%20self%2Edata%20%2A%20rhs%0A%20%20%20%20%20%20else%20throw%20koto%2Eunimplemented%0A%0A%20%20%23%20The%20%2A%20operator%20when%20the%20object%20is%20on%20the%20RHS%0A%20%20%40r%2A%3A%20%7Clhs%7C%20foo%20lhs%20%2A%20self%2Edata%0A%0Aa%20%3D%20foo%202%0Ab%20%3D%20foo%203%0A%0Aprint%20%28a%20%2A%20b%29%2Edata%0A%23%3A%206%0A%0Aprint%20%2810%20%2A%20a%29%2Edata%0A%23%3A%2020" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="comparison-operators"><a class="zola-anchor" href="#comparison-operators" aria-label="Anchor link for: comparison-operators">Comparison Operators</a></h3>
<p>Comparison operators can also be implemented in an object's metamap
by using the metakeys <code>@==</code>, <code>@!=</code>, <code>@&lt;</code>, <code>@&lt;=</code>, <code>@&gt;</code>, and <code>@&gt;=</code>.</p>
<p>By default, <code>@!=</code> will invert the result of calling <code>@==</code>,
so it's only necessary to implement it for types with special equality properties.</p>
<p>Types that represent a <a href="https://en.wikipedia.org/wiki/Total_order">total order</a> only need to implement <code>@&lt;</code> and <code>@==</code>,
and the runtime will automatically derive results for <code>@&lt;=</code>, <code>@&gt;</code>, and <code>@&gt;=</code>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">data</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">n</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@==:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">other</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span> <span class="z-keyword z-operator z-comparison z-koto">==</span> <span class="z-variable z-other z-koto">other</span>.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@&lt;:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">other</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span> <span class="z-keyword z-operator z-comparison z-koto">&lt;</span> <span class="z-variable z-other z-koto">other</span>.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">foo</span> <span class="z-constant z-numeric z-koto">100</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">b</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">foo</span> <span class="z-constant z-numeric z-koto">200</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-comparison z-koto">==</span> <span class="z-variable z-other z-koto">a</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: true
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> The result of != is derived by inverting the result of @==
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-comparison z-koto">!=</span> <span class="z-variable z-other z-koto">a</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: false
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-comparison z-koto">&lt;</span> <span class="z-variable z-other z-koto">b</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: true
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> The result of &gt; is derived from the implementations of @&lt; and @==
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-comparison z-koto">&gt;</span> <span class="z-variable z-other z-koto">b</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: false
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%7Cn%7C%0A%20%20data%3A%20n%0A%0A%20%20%40%3D%3D%3A%20%7Cother%7C%20self%2Edata%20%3D%3D%20other%2Edata%0A%20%20%40%3C%3A%20%7Cother%7C%20self%2Edata%20%3C%20other%2Edata%0A%0Aa%20%3D%20foo%20100%0Ab%20%3D%20foo%20200%0A%0Aprint%20a%20%3D%3D%20a%0A%23%3A%20true%0A%0A%23%20The%20result%20of%20%21%3D%20is%20derived%20by%20inverting%20the%20result%20of%20%40%3D%3D%0Aprint%20a%20%21%3D%20a%0A%23%3A%20false%0A%0Aprint%20a%20%3C%20b%0A%23%3A%20true%0A%0A%23%20The%20result%20of%20%3E%20is%20derived%20from%20the%20implementations%20of%20%40%3C%20and%20%40%3D%3D%0Aprint%20a%20%3E%20b%0A%23%3A%20false" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="metakeys"><a class="zola-anchor" href="#metakeys" aria-label="Anchor link for: metakeys">Metakeys</a></h3>
<h4 id="negate"><a class="zola-anchor" href="#negate" aria-label="Anchor link for: negate"><code>@negate</code></a></h4>
<p>The <code>@negate</code> metakey overrides the <code>-</code> negation operator.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">data</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">n</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@negate</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-variable z-other z-koto">foo</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">100</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: -100
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%7Cn%7C%0A%20%20data%3A%20n%0A%20%20%40negate%3A%20%7C%7C%20foo%20%2Dself%2Edata%0A%0Ax%20%3D%20%2Dfoo%28100%29%0Aprint%20x%2Edata%0A%23%3A%20%2D100" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="size-and-index"><a class="zola-anchor" href="#size-and-index" aria-label="Anchor link for: size-and-index"><code>@size</code> and <code>@index</code></a></h4>
<p>The <code>@size</code> metakey defines how an object should report its size,
while the <code>@index</code> metakey defines which values should be returned
when indexing is performed.</p>
<p>If <code>@size</code> is implemented, then <code>@index</code> should also be implemented.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">data</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">data</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">data</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@size</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">size</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@index</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">index</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-variable z-other z-koto">index</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">foo</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>a<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>b<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>c<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">size</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 3
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: b
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%7Cdata%7C%0A%20%20data%3A%20data%0A%20%20%40size%3A%20%7C%7C%20size%20self%2Edata%0A%20%20%40index%3A%20%7Cindex%7C%20self%2Edata%5Bindex%5D%0A%0Ax%20%3D%20foo%20%28%27a%27%2C%20%27b%27%2C%20%27c%27%29%0Aprint%20size%20x%0A%23%3A%203%0Aprint%20x%5B1%5D%0A%23%3A%20b" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Implementing <code>@size</code> and <code>@index</code> allows an object to participate in argument unpacking.</p>
<p>The <code>@index</code> implementation can support indexing by any input values that make
sense for your object type, however for argument unpacking to work correctly, the
runtime expects that indexing should be supported for at least single indices and ranges.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">data</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">data</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">data</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@size</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">size</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@index</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">index</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-variable z-other z-koto">index</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">foo</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">10</span>, <span class="z-constant z-numeric z-koto">20</span>, <span class="z-constant z-numeric z-koto">30</span>, <span class="z-constant z-numeric z-koto">40</span>, <span class="z-constant z-numeric z-koto">50</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Unpack the first two elements in the value passed to the function and multiply them
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">multiply_first_two</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-punctuation z-definition z-arguments z-begin z-koto">(</span><span class="z-variable z-parameter z-koto">a</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">b</span><span class="z-punctuation z-separator z-koto">,</span> ...<span class="z-punctuation z-definition z-arguments z-end z-koto">)</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">a</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-variable z-other z-koto">b</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">multiply_first_two</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 200
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Inspect the first element in the object
</span></span><span class="z-source z-koto"><span class="z-keyword z-control z-conditional z-koto">match</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto">  </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-variable z-other z-koto">first</span>, <span class="z-variable z-other z-koto">others</span><span class="z-keyword z-operator z-bitwise z-koto">...</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>first: </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">first</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">, remaining: </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">size</span> <span class="z-variable z-other z-koto">others</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: first: 10, remaining: 4
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%7Cdata%7C%0A%20%20data%3A%20data%0A%20%20%40size%3A%20%7C%7C%20size%20self%2Edata%0A%20%20%40index%3A%20%7Cindex%7C%20self%2Edata%5Bindex%5D%0A%0Ax%20%3D%20foo%20%2810%2C%2020%2C%2030%2C%2040%2C%2050%29%0A%0A%23%20Unpack%20the%20first%20two%20elements%20in%20the%20value%20passed%20to%20the%20function%20and%20multiply%20them%0Amultiply%5Ffirst%5Ftwo%20%3D%20%7C%28a%2C%20b%2C%20%2E%2E%2E%29%7C%20a%20%2A%20b%0Aprint%20multiply%5Ffirst%5Ftwo%20x%0A%23%3A%20200%0A%0A%23%20Inspect%20the%20first%20element%20in%20the%20object%0Aprint%20match%20x%0A%20%20%28first%2C%20others%2E%2E%2E%29%20then%20%27first%3A%20%7Bfirst%7D%2C%20remaining%3A%20%7Bsize%20others%7D%27%0A%23%3A%20first%3A%2010%2C%20remaining%3A%204" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="index-assign"><a class="zola-anchor" href="#index-assign" aria-label="Anchor link for: index-assign"><code>@index_assign</code></a></h4>
<p>The <code>@index_assign</code> metakey defines how an object should behave when index-assignment is used.</p>
<p>The given value should be a function that takes an index as the first argument,
with the second argument being the value to be assigned.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">data</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">data</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">data</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@index</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">index</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-variable z-other z-koto">index</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@index_assign</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">index</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">value</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-variable z-other z-koto">index</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto"> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">value</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">foo</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>a<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>b<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>c<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto"> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>hello<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: hello
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%7Cdata%7C%0A%20%20data%3A%20data%0A%20%20%40index%3A%20%7Cindex%7C%20self%2Edata%5Bindex%5D%0A%20%20%40index%5Fassign%3A%20%7Cindex%2C%20value%7C%20self%2Edata%5Bindex%5D%20%3D%20value%0A%0Ax%20%3D%20foo%20%5B%27a%27%2C%20%27b%27%2C%20%27c%27%5D%0Ax%5B1%5D%20%3D%20%27hello%27%0Aprint%20x%5B1%5D%0A%23%3A%20hello" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="access-and-access-assign"><a class="zola-anchor" href="#access-and-access-assign" aria-label="Anchor link for: access-and-access-assign"><code>@access</code> and <code>@access_assign</code></a></h4>
<p>The <code>@access</code> and <code>@access_assign</code> metakeys allow objects so override how <code>.</code> access operations behave.</p>
<p>Note that care must be taken to avoid accessing members of <code>self</code> via <code>.</code> to avoid creating infinite loops!</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@access</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">key</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">    <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Multiply values by 2 when accessed
</span></span><span class="z-source z-koto">    <span class="z-variable z-other z-koto">map</span>.<span class="z-variable z-function z-koto">get</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-variable z-language z-koto">self</span>, <span class="z-variable z-other z-koto">key</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@access_assign</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">key</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">value</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">    <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Multiply values by 100 when assigned
</span></span><span class="z-source z-koto">    <span class="z-variable z-other z-koto">map</span>.<span class="z-variable z-function z-koto">insert</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-variable z-language z-koto">self</span>, <span class="z-variable z-other z-koto">key</span>, <span class="z-variable z-other z-koto">value</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span> <span class="z-constant z-numeric z-koto">100</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span>.<span class="z-variable z-function z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> The assigned value was multiplied by 100 in @access_assign, and by 2 in @access.
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span>.<span class="z-variable z-function z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 200
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%0A%20%20%40access%3A%20%7Ckey%7C%0A%20%20%20%20%23%20Multiply%20values%20by%202%20when%20accessed%0A%20%20%20%20map%2Eget%28self%2C%20key%29%20%2A%202%0A%0A%20%20%40access%5Fassign%3A%20%7Ckey%2C%20value%7C%0A%20%20%20%20%23%20Multiply%20values%20by%20100%20when%20assigned%0A%20%20%20%20map%2Einsert%28self%2C%20key%2C%20value%20%2A%20100%29%0A%0Afoo%2Ex%20%3D%201%0A%0A%23%20The%20assigned%20value%20was%20multiplied%20by%20100%20in%20%40access%5Fassign%2C%20and%20by%202%20in%20%40access%2E%0Aprint%20foo%2Ex%0A%23%3A%20200" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="call"><a class="zola-anchor" href="#call" aria-label="Anchor link for: call"><code>@call</code></a></h4>
<p>The <code>@call</code> metakey defines how an object should behave when its called as a
function.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">data</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">n</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@call</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">arg</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">    <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">*=</span> <span class="z-variable z-other z-koto">arg</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">foo</span> <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">10</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 20
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">4</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 80
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%7Cn%7C%0A%20%20data%3A%20n%0A%20%20%40call%3A%20%7Carg%7C%0A%20%20%20%20self%2Edata%20%2A%3D%20arg%0A%0Ax%20%3D%20foo%202%0Aprint%20x%2810%29%0A%23%3A%2020%0Aprint%20x%284%29%0A%23%3A%2080" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="iterator"><a class="zola-anchor" href="#iterator" aria-label="Anchor link for: iterator"><code>@iterator</code></a></h4>
<p>The <code>@iterator</code> metakey defines how iterators should be created when an object
is used in an iterable context.</p>
<p>When called, <code>@iterator</code> should return an iterable value that will then be used
for iterator operations.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Return a generator that yields the three numbers following n
</span></span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@iterator</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">    <span class="z-keyword z-control z-flow z-koto">yield</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">    <span class="z-keyword z-control z-flow z-koto">yield</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto">    <span class="z-keyword z-control z-flow z-koto">yield</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">3</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">0</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">to_tuple</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (1, 2, 3)
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">100</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">to_list</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: [101, 102, 103]
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%7Cn%7C%0A%20%20%23%20Return%20a%20generator%20that%20yields%20the%20three%20numbers%20following%20n%0A%20%20%40iterator%3A%20%7C%7C%0A%20%20%20%20yield%20n%20%2B%201%0A%20%20%20%20yield%20n%20%2B%202%0A%20%20%20%20yield%20n%20%2B%203%0A%0Aprint%20foo%280%29%2Eto%5Ftuple%28%29%0A%23%3A%20%281%2C%202%2C%203%29%0A%0Aprint%20foo%28100%29%2Eto%5Flist%28%29%0A%23%3A%20%5B101%2C%20102%2C%20103%5D" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Note that the <code>@iterator</code> metakey will be ignored if the object also implements <code>@next</code>,
which implies that the object is <em>already</em> an iterator.</p>
<h4 id="next"><a class="zola-anchor" href="#next" aria-label="Anchor link for: next"><code>@next</code></a></h4>
<p>The <code>@next</code> metakey allows for objects to treated as iterators.</p>
<p>Whenever the runtime needs to produce an iterator from an object, it will first
check the metamap for an implementation of <code>@next</code>, before looking for <code>@iterator</code>.</p>
<p>The <code>@next</code> function will be called repeatedly during iteration,
with the returned value being used as the iterator's output.
When the returned value is <code>null</code> then the iterator will stop producing output.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">start</span><span class="z-punctuation z-separator z-koto">,</span> <span class="z-variable z-parameter z-koto">end</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">start</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">start</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">end</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">end</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@next</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">    <span class="z-keyword z-control z-conditional z-koto">if</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">start</span> <span class="z-keyword z-operator z-comparison z-koto">&lt;</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">end</span>
</span><span class="z-source z-koto">      <span class="z-variable z-other z-koto">result</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">start</span>
</span><span class="z-source z-koto">      <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">start</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">+=</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">      <span class="z-variable z-other z-koto">result</span>
</span><span class="z-source z-koto">    <span class="z-keyword z-control z-conditional z-koto">else</span>
</span><span class="z-source z-koto">      <span class="z-constant z-language z-koto">null</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">10</span>, <span class="z-constant z-numeric z-koto">15</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">to_tuple</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (10, 11, 12, 13, 14)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%7Cstart%2C%20end%7C%0A%20%20start%3A%20start%0A%20%20end%3A%20end%0A%20%20%40next%3A%20%7C%7C%0A%20%20%20%20if%20self%2Estart%20%3C%20self%2Eend%0A%20%20%20%20%20%20result%20%3D%20self%2Estart%0A%20%20%20%20%20%20self%2Estart%20%2B%3D%201%0A%20%20%20%20%20%20result%0A%20%20%20%20else%0A%20%20%20%20%20%20null%0A%0Aprint%20foo%2810%2C%2015%29%2Eto%5Ftuple%28%29%0A%23%3A%20%2810%2C%2011%2C%2012%2C%2013%2C%2014%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="next-back"><a class="zola-anchor" href="#next-back" aria-label="Anchor link for: next-back"><code>@next_back</code></a></h4>
<p>The <code>@next_back</code> metakey is used by <a href="../core/iterator#reversed"><code>iterator.reversed</code></a>
when producing a reversed iterator.</p>
<p>The runtime will only look for <code>@next_back</code> if <code>@next</code> is implemented.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">n</span>: <span class="z-constant z-numeric z-koto">0</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@next</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">n</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">+=</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@next_back</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">n</span> <span class="z-keyword z-operator z-assignment z-augmented z-koto">-=</span> <span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span>
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">skip</span> <span class="z-constant z-numeric z-koto">3</span> <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> 0, 1, 2
</span></span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">reversed</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">take</span> <span class="z-constant z-numeric z-koto">3</span> <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> 2, 1, 0
</span></span><span class="z-source z-koto">  .<span class="z-variable z-function z-koto">to_tuple</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (2, 1, 0)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%0A%20%20n%3A%200%0A%20%20%40next%3A%20%7C%7C%20self%2En%20%2B%3D%201%0A%20%20%40next%5Fback%3A%20%7C%7C%20self%2En%20%2D%3D%201%0A%0Aprint%20foo%0A%20%20%2Eskip%203%20%23%200%2C%201%2C%202%0A%20%20%2Ereversed%28%29%0A%20%20%2Etake%203%20%23%202%2C%201%2C%200%0A%20%20%2Eto%5Ftuple%28%29%0A%23%3A%20%282%2C%201%2C%200%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="display"><a class="zola-anchor" href="#display" aria-label="Anchor link for: display"><code>@display</code></a></h4>
<p>The <code>@display</code> metakey defines how an object should be represented when
displaying the object as a string.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">data</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">n</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@display</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Foo(</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">)<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-constant z-numeric z-koto">42</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Foo(42)
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>The value of x is &#39;</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">x</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto">&#39;<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: The value of x is &#39;Foo(-1)&#39;
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%7Cn%7C%0A%20%20data%3A%20n%0A%20%20%40display%3A%20%7C%7C%20%27Foo%28%7Bself%2Edata%7D%29%27%0A%0Aprint%20foo%2042%0A%23%3A%20Foo%2842%29%0A%0Ax%20%3D%20foo%20%2D1%0Aprint%20%22The%20value%20of%20x%20is%20%27%7Bx%7D%27%22%0A%23%3A%20The%20value%20of%20x%20is%20%27Foo%28%2D1%29%27" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="debug-1"><a class="zola-anchor" href="#debug-1" aria-label="Anchor link for: debug-1"><code>@debug</code></a></h4>
<p>The <code>@debug</code> metakey defines how an object should be represented when
displaying the object in a debug context, e.g. when using <a href="https://koto.dev/docs/next/language/#debug-1"><code>debug</code></a>,
or when the <a href="https://koto.dev/docs/next/language/#representation"><code>?</code> representation</a> is used in an interpolated expression.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">data</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">n</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@display</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Foo(</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">)<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@debug</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>!!</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-language z-koto">self</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">!!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">foo</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">123</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-meta z-interpolation z-koto">:<span class="z-keyword z-operator z-logical z-koto">?</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: !!Foo(123)!!
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%7Cn%7C%0A%20%20data%3A%20n%0A%20%20%40display%3A%20%7C%7C%20%27Foo%28%7Bself%2Edata%7D%29%27%0A%20%20%40debug%3A%20%7C%7C%20%27%21%21%7Bself%7D%21%21%27%0A%0Aprint%20%22%7Bfoo%28123%29%3A%3F%7D%22%0A%23%3A%20%21%21Foo%28123%29%21%21" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

If <code>@debug</code> isn't defined, then <code>@display</code> will be used as a fallback.</p>
<h4 id="type"><a class="zola-anchor" href="#type" aria-label="Anchor link for: type"><code>@type</code></a></h4>
<p>The <code>@type</code> metakey takes a string which is used when checking a
value's type, e.g. with <a href="https://koto.dev/docs/next/language/#type-checks">type checks</a> or <a href="../core/koto#type"><code>koto.type</code></a>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">data</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">n</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@type</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>Foo<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">let</span> <span class="z-variable z-other z-koto">x</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">Foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">foo</span> <span class="z-constant z-numeric z-koto">42</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">koto</span>.<span class="z-variable z-function z-koto">type</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Foo
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%7Cn%7C%0A%20%20data%3A%20n%0A%20%20%40type%3A%20%22Foo%22%0A%0Alet%20x%3A%20Foo%20%3D%20foo%2042%0Aprint%20koto%2Etype%20x%0A%23%3A%20Foo" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="base"><a class="zola-anchor" href="#base" aria-label="Anchor link for: base"><code>@base</code></a></h4>
<p>Objects can inherit properties and behavior from other values,
establishing a <em>base value</em> through the <code>@base</code> metakey.
This allows objects to share common functionality while maintaining their own
unique attributes.</p>
<p>In the following example, two kinds of animals are created that share the
<code>speak</code> function from their base value.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">animal</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">name</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@type</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Animal<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">name</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">name</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">speak</span>: <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">noise</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">! My name is </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">name</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">dog</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">name</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@base</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-variable z-other z-koto">animal</span> <span class="z-variable z-other z-koto">name</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@type</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Dog<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">noise</span>: <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Woof<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">cat</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">name</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@base</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-variable z-other z-koto">animal</span> <span class="z-variable z-other z-koto">name</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@type</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Cat<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">noise</span>: <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Meow<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">let</span> <span class="z-variable z-other z-koto">fido</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">Dog</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">dog</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Fido<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">fido</span>.<span class="z-variable z-function z-koto">speak</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Woof! My name is Fido!
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">let</span> <span class="z-variable z-other z-koto">smudge</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">Cat</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">cat</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Smudge<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">smudge</span>.<span class="z-variable z-function z-koto">speak</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Meow! My name is Smudge!
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Type checks will refer to base class @type entries when needed
</span></span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">let</span> <span class="z-variable z-other z-koto">an_animal</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">Animal</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-control z-conditional z-koto">if</span> <span class="z-constant z-language z-koto">true</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-variable z-other z-koto">fido</span> <span class="z-keyword z-control z-conditional z-koto">else</span> <span class="z-variable z-other z-koto">smudge</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">an_animal</span>.<span class="z-variable z-function z-koto">name</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Fido
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=animal%20%3D%20%7Cname%7C%0A%20%20%40type%3A%20%27Animal%27%0A%20%20name%3A%20name%0A%20%20speak%3A%20%7C%7C%20%27%7Bself%2Enoise%7D%21%20My%20name%20is%20%7Bself%2Ename%7D%21%27%0A%0Adog%20%3D%20%7Cname%7C%0A%20%20%40base%3A%20animal%20name%0A%20%20%40type%3A%20%27Dog%27%0A%20%20noise%3A%20%27Woof%27%0A%0Acat%20%3D%20%7Cname%7C%0A%20%20%40base%3A%20animal%20name%0A%20%20%40type%3A%20%27Cat%27%0A%20%20noise%3A%20%27Meow%27%0A%0Alet%20fido%3A%20Dog%20%3D%20dog%20%27Fido%27%0Aprint%20fido%2Espeak%28%29%0A%23%3A%20Woof%21%20My%20name%20is%20Fido%21%0A%0Alet%20smudge%3A%20Cat%20%3D%20cat%20%27Smudge%27%0Aprint%20smudge%2Espeak%28%29%0A%23%3A%20Meow%21%20My%20name%20is%20Smudge%21%0A%0A%23%20Type%20checks%20will%20refer%20to%20base%20class%20%40type%20entries%20when%20needed%0Alet%20an%5Fanimal%3A%20Animal%20%3D%20if%20true%20then%20fido%20else%20smudge%0Aprint%20an%5Fanimal%2Ename%0A%23%3A%20Fido" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h4 id="meta"><a class="zola-anchor" href="#meta" aria-label="Anchor link for: meta"><code>@meta</code></a></h4>
<p>The <code>@meta</code> metakey allows named metakeys to be added to the metamap.</p>
<p>Metakeys defined with <code>@meta</code> are accessible via <code>.</code> access,
similar to regular object <code>keys</code>, but they don't appear as part of the object's
main data entries when treated as a regular map.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">n</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">data</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">n</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@meta</span><span class="z-entity z-name z-function z-koto"> hello</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>Hello!<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@meta</span><span class="z-entity z-name z-function z-koto"> get_info</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">    <span class="z-variable z-other z-koto">info</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-control z-conditional z-koto">match</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto">      <span class="z-constant z-numeric z-koto">0</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>zero<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">      <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-control z-conditional z-koto">if</span> <span class="z-variable z-other z-koto">n</span> <span class="z-keyword z-operator z-comparison z-koto">&lt;</span> <span class="z-constant z-numeric z-koto">0</span> <span class="z-keyword z-control z-conditional z-koto">then</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>negative<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">      <span class="z-keyword z-control z-conditional z-koto">else</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>positive<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">    <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto"> is </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">info</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>.<span class="z-variable z-function z-koto">hello</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Hello!
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">print</span> <span class="z-variable z-other z-koto">x</span>.<span class="z-variable z-function z-koto">get_info</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: -1 is negative
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">print</span> <span class="z-variable z-other z-koto">map</span>.<span class="z-variable z-function z-koto">keys</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-variable z-other z-koto">x</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">to_tuple</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: (&#39;data&#39;)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=foo%20%3D%20%7Cn%7C%0A%20%20data%3A%20n%0A%20%20%40meta%20hello%3A%20%22Hello%21%22%0A%20%20%40meta%20get%5Finfo%3A%20%7C%7C%0A%20%20%20%20info%20%3D%20match%20self%2Edata%0A%20%20%20%20%20%200%20then%20%22zero%22%0A%20%20%20%20%20%20n%20if%20n%20%3C%200%20then%20%22negative%22%0A%20%20%20%20%20%20else%20%22positive%22%0A%20%20%20%20%22%7Bself%2Edata%7D%20is%20%7Binfo%7D%22%0A%0Ax%20%3D%20foo%20%2D1%0Aprint%20x%2Ehello%0A%23%3A%20Hello%21%0A%0Aprint%20x%2Eget%5Finfo%28%29%0A%23%3A%20%2D1%20is%20negative%0A%0Aprint%20map%2Ekeys%28x%29%2Eto%5Ftuple%28%29%0A%23%3A%20%28%27data%27%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="sharing-metamaps"><a class="zola-anchor" href="#sharing-metamaps" aria-label="Anchor link for: sharing-metamaps">Sharing Metamaps</a></h3>
<p>Metamaps can be shared between objects by using
<a href="../core/map#with-meta"><code>Map.with_meta</code></a>, which helps to avoid inefficient
duplication when creating a lot of objects.</p>
<p>In the following example, behavior is overridden in a single metamap, which is
then shared between object instances.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Create an empty map for global values
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">global</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Define a function that makes a Foo object
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">foo</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">data</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Make a new map that contains `data`,
</span></span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> and then attach a shared copy of the metamap from foo_meta.
</span></span><span class="z-source z-koto">  </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span><span class="z-variable z-other z-koto">data</span><span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">with_meta</span> <span class="z-variable z-other z-koto">global</span>.<span class="z-variable z-function z-koto">foo_meta</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Define some metakeys in foo_meta
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">global</span>.<span class="z-variable z-function z-koto">foo_meta</span> <span class="z-keyword z-operator z-assignment z-koto">=</span>
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Declare the object&#39;s type
</span></span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@type</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Foo<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Override the + operator
</span></span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@+:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">other</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">foo</span> <span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-variable z-other z-koto">other</span>.<span class="z-variable z-function z-koto">data</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Define how the object should be displayed
</span></span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@display</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>Foo(</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-language z-koto">self</span>.<span class="z-variable z-function z-koto">data</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto">)<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-variable z-other z-koto">foo</span> <span class="z-constant z-numeric z-koto">10</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto"> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-variable z-other z-koto">foo</span> <span class="z-constant z-numeric z-koto">20</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Foo(30)
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%20Create%20an%20empty%20map%20for%20global%20values%0Aglobal%20%3D%20%7B%7D%0A%0A%23%20Define%20a%20function%20that%20makes%20a%20Foo%20object%0Afoo%20%3D%20%7Cdata%7C%0A%20%20%23%20Make%20a%20new%20map%20that%20contains%20%60data%60%2C%0A%20%20%23%20and%20then%20attach%20a%20shared%20copy%20of%20the%20metamap%20from%20foo%5Fmeta%2E%0A%20%20%7Bdata%7D%2Ewith%5Fmeta%20global%2Efoo%5Fmeta%0A%0A%23%20Define%20some%20metakeys%20in%20foo%5Fmeta%0Aglobal%2Efoo%5Fmeta%20%3D%0A%20%20%23%20Declare%20the%20object%27s%20type%0A%20%20%40type%3A%20%27Foo%27%0A%0A%20%20%23%20Override%20the%20%2B%20operator%0A%20%20%40%2B%3A%20%7Cother%7C%20foo%20self%2Edata%20%2B%20other%2Edata%0A%0A%20%20%23%20Define%20how%20the%20object%20should%20be%20displayed%0A%20%20%40display%3A%20%7C%7C%20%22Foo%28%7Bself%2Edata%7D%29%22%0A%0Aprint%20%28foo%2010%29%20%2B%20%28foo%2020%29%0A%23%3A%20Foo%2830%29" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="error-handling"><a class="zola-anchor" href="#error-handling" aria-label="Anchor link for: error-handling">Error Handling</a></h2>
<p>Errors can be <em>thrown</em> in the Koto runtime, which then cause the runtime to stop
execution.</p>
<p>A <em>try</em> / <em>catch</em> expression can be used to catch any errors thrown while inside
the <code>try</code> block, allowing execution to continue.</p>
<p>An optional <code>finally</code> block can be used for cleanup actions that need to
performed whether or not an error was caught.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">try</span>
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Accessing an invalid index will throw an error
</span></span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-variable z-other z-koto">x</span></span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">100</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">catch</span> <span class="z-variable z-other z-koto">error</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>Caught an error: &#39;</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">error</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto">&#39;<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">finally</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>...and finally<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Caught an error: &#39;index out of bounds - index: 100, size: 3&#39;
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: ...and finally
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=x%20%3D%20%5B1%2C%202%2C%203%5D%0Atry%0A%20%20%23%20Accessing%20an%20invalid%20index%20will%20throw%20an%20error%0A%20%20print%20x%5B100%5D%0Acatch%20error%0A%20%20print%20%22Caught%20an%20error%3A%20%27%7Berror%7D%27%22%0Afinally%0A%20%20print%20%22%2E%2E%2Eand%20finally%22%0A%23%3A%20Caught%20an%20error%3A%20%27index%20out%20of%20bounds%20%2D%20index%3A%20100%2C%20size%3A%203%27%0A%23%3A%20%2E%2E%2Eand%20finally" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

<code>throw</code> can be used to explicitly throw an error when an exceptional condition
has occurred.</p>
<p><code>throw</code> accepts strings or objects that implement <code>@display</code>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-keyword z-control z-koto">throw</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>!Error!<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">try</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">f</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">catch</span> <span class="z-variable z-other z-koto">error</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-double z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&quot;</span>Caught an error: &#39;</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">error</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-double z-koto">&#39;<span class="z-punctuation z-definition z-string z-end z-koto">&quot;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Caught an error: &#39;!Error!&#39;
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=f%20%3D%20%7C%7C%20throw%20%22%21Error%21%22%0A%0Atry%0A%20%20f%28%29%0Acatch%20error%0A%20%20print%20%22Caught%20an%20error%3A%20%27%7Berror%7D%27%22%0A%23%3A%20Caught%20an%20error%3A%20%27%21Error%21%27" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="type-checks-on-catch-blocks"><a class="zola-anchor" href="#type-checks-on-catch-blocks" aria-label="Anchor link for: type-checks-on-catch-blocks">Type checks on <code>catch</code> blocks</a></h3>
<p>Type hints can also be used in <code>try</code> expressions to implement different
error handling logic depending on the type of error that has been thrown.
A series of <code>catch</code> blocks can be added to the <code>try</code> expression, each catching
an error that has a particular type.</p>
<p>The final <code>catch</code> block needs to <em>not</em> have a type check so that it can catch
any errors that were missed by the other blocks.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">f</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-keyword z-control z-koto">throw</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Throwing a String<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">try</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">f</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">catch</span> <span class="z-variable z-other z-koto">n</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">Number</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>An error occurred: </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">n</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">catch</span> <span class="z-variable z-other z-koto">error</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">String</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-variable z-other z-koto">error</span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">catch</span> <span class="z-variable z-other z-koto">other</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Some other error occurred: </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">other</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Throwing a String
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=f%20%3D%20%7C%7C%20throw%20%27Throwing%20a%20String%27%0A%0Atry%0A%20%20f%28%29%0Acatch%20n%3A%20Number%0A%20%20print%20%27An%20error%20occurred%3A%20%7Bn%7D%27%0Acatch%20error%3A%20String%0A%20%20print%20error%0Acatch%20other%0A%20%20print%20%27Some%20other%20error%20occurred%3A%20%7Bother%7D%27%0A%23%3A%20Throwing%20a%20String" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h2 id="modules"><a class="zola-anchor" href="#modules" aria-label="Anchor link for: modules">Modules</a></h2>
<p>Koto includes a module system that helps you to organize and re-use your code
when your program grows too large for a single file.</p>
<h3 id="import"><a class="zola-anchor" href="#import" aria-label="Anchor link for: import"><code>import</code></a></h3>
<p>Values from other modules can be brought into the current scope using <code>import</code>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-import">from</span> <span class="z-variable z-other z-koto">list</span> <span class="z-keyword z-control z-import">import</span> <span class="z-variable z-other z-koto">last</span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-import">from</span> <span class="z-variable z-other z-koto">number</span> <span class="z-keyword z-control z-import">import</span> <span class="z-variable z-other z-koto">abs</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">last</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 3
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">abs</span> <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">42</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 42
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=from%20list%20import%20last%0Afrom%20number%20import%20abs%0A%0Ax%20%3D%20%5B1%2C%202%2C%203%5D%0Aprint%20last%20x%0A%23%3A%203%0A%0Aprint%20abs%20%2D42%0A%23%3A%2042" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Multiple values from a single module can be imported at the same time.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-import">from</span> <span class="z-variable z-other z-koto">tuple</span> <span class="z-keyword z-control z-import">import</span> <span class="z-variable z-other z-koto">contains</span>, <span class="z-variable z-other z-koto">first</span>, <span class="z-variable z-other z-koto">last</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>a<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>b<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>c<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">first</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: a
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">last</span> <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: c
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">contains</span> <span class="z-variable z-other z-koto">x</span>, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>b<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: true
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=from%20tuple%20import%20contains%2C%20first%2C%20last%0A%0Ax%20%3D%20%27a%27%2C%20%27b%27%2C%20%27c%27%0Aprint%20first%20x%0A%23%3A%20a%0Aprint%20last%20x%0A%23%3A%20c%0Aprint%20contains%20x%2C%20%27b%27%0A%23%3A%20true" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Imported values can be renamed using <code>as</code> for clarity or to avoid conflicts.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-import">from</span> <span class="z-variable z-other z-koto">list</span> <span class="z-keyword z-control z-import">import</span> <span class="z-variable z-other z-koto">first</span> <span class="z-keyword z-control z-import">as</span> <span class="z-variable z-other z-koto">list_first</span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-import">from</span> <span class="z-variable z-other z-koto">tuple</span> <span class="z-keyword z-control z-import">import</span> <span class="z-variable z-other z-koto">first</span> <span class="z-keyword z-control z-import">as</span> <span class="z-variable z-other z-koto">tuple_first</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">list_first</span> </span><span class="z-meta z-brackets"><span class="z-punctuation z-section z-brackets z-begin z-koto">[</span><span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span><span class="z-punctuation z-section z-brackets z-end z-koto">]</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 1
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">tuple_first</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">3</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">1</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 3
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=from%20list%20import%20first%20as%20list%5Ffirst%0Afrom%20tuple%20import%20first%20as%20tuple%5Ffirst%0Aprint%20list%5Ffirst%20%5B1%2C%202%5D%0A%23%3A%201%0Aprint%20tuple%5Ffirst%20%283%2C%202%2C%201%29%0A%23%3A%203" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

You can also use <code>*</code> to import all of a module's exported values at once (known as a <em>wildcard import</em>) .</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-import">from</span> <span class="z-variable z-other z-koto">number</span> <span class="z-keyword z-control z-import">import</span> <span class="z-keyword z-operator z-arithmetic z-koto">*</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">abs</span> <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 1
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">sqrt</span> <span class="z-constant z-numeric z-koto">25</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 5.0
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=from%20number%20import%20%2A%0A%0Aprint%20abs%20%2D1%0A%23%3A%201%0Aprint%20sqrt%2025%0A%23%3A%205%2E0" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="export"><a class="zola-anchor" href="#export" aria-label="Anchor link for: export"><code>export</code></a></h3>
<p>A value can only be imported from a module if the module has <em>exported</em> it.</p>
<p><code>export</code> is used to add values to the current module's <em>exports map</em>,
making them available to be imported by other modules.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> my_module.koto #
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> hello is a local variable, and isn&#39;t exported
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">hello</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hello<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Here, say_hello gets exported, making it available to other modules
</span></span><span class="z-source z-koto"><span class="z-keyword z-control z-import">export</span> <span class="z-variable z-other z-koto">say_hello</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">name</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span></span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">hello</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">, </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">name</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>   other.koto   #
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-import">from</span> <span class="z-variable z-other z-koto">my_module</span> <span class="z-keyword z-control z-import">import</span> <span class="z-variable z-other z-koto">say_hello</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">say_hello</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Koto<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: &#39;Hello, Koto!&#39;
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%23%20my%5Fmodule%2Ekoto%20%23%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%0A%23%20hello%20is%20a%20local%20variable%2C%20and%20isn%27t%20exported%0Ahello%20%3D%20%27Hello%27%0A%0A%23%20Here%2C%20say%5Fhello%20gets%20exported%2C%20making%20it%20available%20to%20other%20modules%0Aexport%20say%5Fhello%20%3D%20%7Cname%7C%20%27%7Bhello%7D%2C%20%7Bname%7D%21%27%0A%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%23%20%20%20other%2Ekoto%20%20%20%23%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%0Afrom%20my%5Fmodule%20import%20say%5Fhello%0A%0Asay%5Fhello%20%27Koto%27%0A%23%3A%20%27Hello%2C%20Koto%21%27" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

To add a <a href="https://koto.dev/docs/next/language/#type-checks">type check</a> to an exported assignment, use a <code>let</code> expression:</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-import">export</span> <span class="z-keyword z-control z-koto">let</span> <span class="z-variable z-other z-koto">foo</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-storage z-type z-koto">Number</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">1</span>
</span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=export%20let%20foo%3A%20Number%20%3D%20%2D1" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

<code>export</code> also accepts maps, or any other iterable value that yields a series of key/value pairs.
This is convenient when exporting a lot of values, or generating exports programatically.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> my_module.koto #
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Define some local values
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">a</span>, <span class="z-variable z-other z-koto">b</span>, <span class="z-variable z-other z-koto">c</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>, <span class="z-constant z-numeric z-koto">3</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Inline maps allow for shorthand syntax
</span></span><span class="z-source z-koto"><span class="z-keyword z-control z-import">export</span> </span><span class="z-meta z-braces z-koto"><span class="z-punctuation z-section z-braces z-begin z-koto">{</span> <span class="z-variable z-other z-koto">a</span>, <span class="z-variable z-other z-koto">b</span>, <span class="z-variable z-other z-koto">c</span>, <span class="z-variable z-other z-koto">foo</span>: <span class="z-constant z-numeric z-koto">42</span> <span class="z-punctuation z-section z-braces z-end z-koto">}</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Map blocks can also be used with export
</span></span><span class="z-source z-koto"><span class="z-keyword z-control z-import">export</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">bar</span>: <span class="z-constant z-numeric z-koto">99</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">baz</span>: <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>baz<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Any iterable value that yields key/value pairs can be used with export
</span></span><span class="z-source z-koto"><span class="z-keyword z-control z-import">export</span> </span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-constant z-numeric z-koto">1</span><span class="z-keyword z-operator z-bitwise z-koto">..=</span><span class="z-constant z-numeric z-koto">3</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">.<span class="z-variable z-function z-koto">each</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">i</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>generated_</span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">i</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-variable z-other z-koto">i</span>
</span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%23%20my%5Fmodule%2Ekoto%20%23%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%0A%23%20Define%20some%20local%20values%0Aa%2C%20b%2C%20c%20%3D%201%2C%202%2C%203%0A%0A%23%20Inline%20maps%20allow%20for%20shorthand%20syntax%0Aexport%20%7B%20a%2C%20b%2C%20c%2C%20foo%3A%2042%20%7D%0A%0A%23%20Map%20blocks%20can%20also%20be%20used%20with%20export%0Aexport%0A%20%20bar%3A%2099%0A%20%20baz%3A%20%27baz%27%0A%0A%23%20Any%20iterable%20value%20that%20yields%20key%2Fvalue%20pairs%20can%20be%20used%20with%20export%0Aexport%20%281%2E%2E%3D3%29%2Eeach%20%7Ci%7C%20%27generated%5F%7Bi%7D%27%2C%20i" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Once a value has been exported, it becomes available anywhere in the module.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">get_x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> x hasn&#39;t been created yet. When the function is called, the runtime
</span></span><span class="z-source z-koto">  <span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> will check the exports map for a matching value.
</span></span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-import">export</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">123</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">get_x</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 123
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> A function that exports `y` with the given value
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">export_y</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">value</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-import">export</span> <span class="z-variable z-other z-koto">y</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-variable z-other z-koto">value</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> y hasn&#39;t been exported yet, so attempting to access it now throws an error.
</span></span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">try</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">y</span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">catch</span> <span class="z-variable z-other z-koto">_</span>
</span><span class="z-source z-koto">  <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>y not found<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: y not found
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Calling export_y adds y to the exports map
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">export_y</span> <span class="z-constant z-numeric z-koto">42</span>
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">y</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 42
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=get%5Fx%20%3D%20%7C%7C%0A%20%20%23%20x%20hasn%27t%20been%20created%20yet%2E%20When%20the%20function%20is%20called%2C%20the%20runtime%0A%20%20%23%20will%20check%20the%20exports%20map%20for%20a%20matching%20value%2E%0A%20%20x%0A%0Aexport%20x%20%3D%20123%0A%0Aprint%20get%5Fx%28%29%0A%23%3A%20123%0A%0A%23%20A%20function%20that%20exports%20%60y%60%20with%20the%20given%20value%0Aexport%5Fy%20%3D%20%7Cvalue%7C%0A%20%20export%20y%20%3D%20value%0A%0A%23%20y%20hasn%27t%20been%20exported%20yet%2C%20so%20attempting%20to%20access%20it%20now%20throws%20an%20error%2E%0Aprint%20try%0A%20%20y%0Acatch%20%5F%0A%20%20%27y%20not%20found%27%0A%23%3A%20y%20not%20found%0A%0A%23%20Calling%20export%5Fy%20adds%20y%20to%20the%20exports%20map%0Aexport%5Fy%2042%0Aprint%20y%0A%23%3A%2042" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

Assigning a new value locally to a previously exported variable won't change
the exported value. If you need to update the exported value,
then it needs to be re-exported.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-import">export</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">99</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Reassigning a new value to x locally doesn&#39;t affect the previously exported value
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-constant z-numeric z-koto">123</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: 123
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> x has a local value of 123, but the exported value of x is still 99.
</span></span><span class="z-source z-koto"><span class="z-keyword z-control z-import">export</span> <span class="z-variable z-other z-koto">x</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-operator z-arithmetic z-koto">-</span><span class="z-constant z-numeric z-koto">1</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> x now has an exported and local value of -1
</span></span><span class="z-source z-koto"><span class="z-variable z-other z-koto">x</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: -1
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=export%20x%20%3D%2099%0A%0A%23%20Reassigning%20a%20new%20value%20to%20x%20locally%20doesn%27t%20affect%20the%20previously%20exported%20value%0Aprint%20x%20%3D%20123%0A%23%3A%20123%0A%0A%23%20x%20has%20a%20local%20value%20of%20123%2C%20but%20the%20exported%20value%20of%20x%20is%20still%2099%2E%0Aexport%20x%20%3D%20%2D1%0A%23%20x%20now%20has%20an%20exported%20and%20local%20value%20of%20%2D1%0Aprint%20x%0A%23%3A%20%2D1" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="main"><a class="zola-anchor" href="#main" aria-label="Anchor link for: main"><code>@main</code></a></h3>
<p>A module can export a <code>@main</code> function, which will be called after the module has been compiled and successfully initialized.</p>
<p>The use of <code>export</code> is optional when assigning to module metakeys like <code>@main</code>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> my_module.koto #
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-import">export</span> <span class="z-variable z-other z-koto">say_hello</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">name</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hello, </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">name</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> Equivalent to `export @main = ...`
</span></span><span class="z-source z-koto"><span class="z-entity z-name z-koto">@main</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>`my_module` initialized<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>   other.koto   #
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-import">from</span> <span class="z-variable z-other z-koto">my_module</span> <span class="z-keyword z-control z-import">import</span> <span class="z-variable z-other z-koto">say_hello</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: `my_module` initialized
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">say_hello</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Koto<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: &#39;Hello, Koto!&#39;
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%23%20my%5Fmodule%2Ekoto%20%23%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%0Aexport%20say%5Fhello%20%3D%20%7Cname%7C%20%27Hello%2C%20%7Bname%7D%21%27%0A%0A%23%20Equivalent%20to%20%60export%20%40main%20%3D%20%2E%2E%2E%60%0A%40main%20%3D%20%7C%7C%20print%20%27%60my%5Fmodule%60%20initialized%27%0A%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%23%20%20%20other%2Ekoto%20%20%20%23%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%0Afrom%20my%5Fmodule%20import%20say%5Fhello%0A%23%3A%20%60my%5Fmodule%60%20initialized%0A%0Asay%5Fhello%20%27Koto%27%0A%23%3A%20%27Hello%2C%20Koto%21%27" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="module-paths"><a class="zola-anchor" href="#module-paths" aria-label="Anchor link for: module-paths">Module Paths</a></h3>
<p>When looking for a module, <code>import</code> will look for a <code>.koto</code> file with a matching
name, or for a folder with a matching name that contains a <code>main.koto</code> file.</p>
<p>For example, when the expression <code>import foo</code> is evaluated,
then the runtime will look for a <code>foo.koto</code> file in the same location as the current script,
and if one isn't found then the runtime will look for <code>foo/main.koto</code>.</p>
<h2 id="testing"><a class="zola-anchor" href="#testing" aria-label="Anchor link for: testing">Testing</a></h2>
<p>Koto includes a simple testing framework that allows you to automatically check that your code is behaving as you would expect.</p>
<h3 id="assertions"><a class="zola-anchor" href="#assertions" aria-label="Anchor link for: assertions">Assertions</a></h3>
<p>The core library includes a collection of <em>assertion</em> functions which
throw errors if a given condition isn't met.</p>
<p>The assertion functions are found in the <a href="../core/test"><code>test</code> module</a>,
and are included by default in the <a href="https://koto.dev/docs/next/language/#prelude">prelude</a>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-keyword z-control z-koto">try</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-flow z-assert z-koto">assert</span> <span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-comparison z-koto">==</span> <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>The assertion passed<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">catch</span> <span class="z-variable z-other z-koto">error</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>The assertion failed<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: The assertion passed
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">try</span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-flow z-assert z-koto">assert_eq</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>hello<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>goodbye<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>The assertion passed<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-keyword z-control z-koto">catch</span> <span class="z-variable z-other z-koto">error</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>The assertion failed<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: The assertion failed
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=try%0A%20%20assert%201%20%2B%201%20%3D%3D%202%0A%20%20print%20%27The%20assertion%20passed%27%0Acatch%20error%0A%20%20print%20%27The%20assertion%20failed%27%0A%23%3A%20The%20assertion%20passed%0A%0Atry%0A%20%20assert%5Feq%20%27hello%27%2C%20%27goodbye%27%0A%20%20print%20%27The%20assertion%20passed%27%0Acatch%20error%0A%20%20print%20%27The%20assertion%20failed%27%0A%23%3A%20The%20assertion%20failed" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="module-tests"><a class="zola-anchor" href="#module-tests" aria-label="Anchor link for: module-tests">Module Tests</a></h3>
<p>Tests can be added to a module by exporting <code>@test</code> functions. A test function is considered to have failed if it throws an error (e.g. from an assertion).</p>
<p>If Koto is configured to run tests, then the tests will be run after a module has been successfully initialized.</p>
<p>After all tests have run successfully, then the runtime will call the module's <code>@main</code> function if it's defined.</p>
<p>The CLI doesn't enable tests by default when running scripts, but they can be enabled <a href="../cli#running-tests">via a flag</a>.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> my_module.koto #
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-import">export</span> <span class="z-variable z-other z-koto">say_hello</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">name</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hello, </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">name</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-entity z-name z-koto">@main</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>`my_module` initialized<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-entity z-name z-koto">@test</span> <span class="z-variable z-other z-koto">say_hello</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Running @test say_hello<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-flow z-assert z-koto">assert_eq</span> <span class="z-variable z-other z-koto">say_hello</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Test<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hello, Test!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>   other.koto   #
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-import">from</span> <span class="z-variable z-other z-koto">my_module</span> <span class="z-keyword z-control z-import">import</span> <span class="z-variable z-other z-koto">say_hello</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Running @test say_hello
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: `my_module` initialized
</span></span></code></pre>
<p>
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%23%20my%5Fmodule%2Ekoto%20%23%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%0Aexport%20say%5Fhello%20%3D%20%7Cname%7C%20%27Hello%2C%20%7Bname%7D%21%27%0A%0A%40main%20%3D%20%7C%7C%20print%20%27%60my%5Fmodule%60%20initialized%27%0A%0A%40test%20say%5Fhello%20%3D%20%7C%7C%0A%20%20print%20%27Running%20%40test%20say%5Fhello%27%0A%20%20assert%5Feq%20say%5Fhello%28%27Test%27%29%2C%20%27Hello%2C%20Test%21%27%0A%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%23%20%20%20other%2Ekoto%20%20%20%23%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%0Afrom%20my%5Fmodule%20import%20say%5Fhello%0A%23%3A%20Running%20%40test%20say%5Fhello%0A%23%3A%20%60my%5Fmodule%60%20initialized" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>

<code>@pre_test</code> and <code>@post_test</code> functions can be implemented alongside tests
for setup and cleanup operations.
<code>@pre_test</code> will be run before each <code>@test</code>, and <code>@post_test</code> will be run after.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span> my_module.koto #
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-import">export</span> <span class="z-variable z-other z-koto">say_hello</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-variable z-parameter z-koto">name</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hello, </span></span><span class="z-meta z-interpolation z-koto"><span class="z-punctuation z-section z-interpolation z-begin z-koto">{</span><span class="z-variable z-other z-koto">name</span><span class="z-punctuation z-section z-interpolation z-end z-koto">}</span></span><span class="z-source z-koto"><span class="z-string z-quoted z-single z-koto">!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-entity z-name z-koto">@main</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>`my_module` initialized<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-entity z-name z-koto">@pre_test</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>In @pre_test<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-entity z-name z-koto">@post_test</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>In @post_test<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-entity z-name z-koto">@test</span> <span class="z-variable z-other z-koto">say_hello_1</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Running @test say_hello_1<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-flow z-assert z-koto">assert_eq</span> <span class="z-variable z-other z-koto">say_hello</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>One<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hello, One!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-entity z-name z-koto">@test</span> <span class="z-variable z-other z-koto">say_hello_2</span> <span class="z-keyword z-operator z-assignment z-koto">=</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span>
</span><span class="z-source z-koto">  <span class="z-variable z-other z-koto">print</span> <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Running @test say_hello_2<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">  <span class="z-keyword z-control z-flow z-assert z-koto">assert_eq</span> <span class="z-variable z-other z-koto">say_hello</span></span><span class="z-meta z-parens"><span class="z-punctuation z-section z-parens z-begin z-koto">(</span><span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Two<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span><span class="z-punctuation z-section z-parens z-end z-koto">)</span></span><span class="z-source z-koto">, <span class="z-string z-quoted z-single z-koto"><span class="z-punctuation z-definition z-string z-begin z-koto">&#39;</span>Hello, Two!<span class="z-punctuation z-definition z-string z-end z-koto">&#39;</span></span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>   other.koto   #
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>#################
</span></span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-keyword z-control z-import">from</span> <span class="z-variable z-other z-koto">my_module</span> <span class="z-keyword z-control z-import">import</span> <span class="z-variable z-other z-koto">say_hello</span>
</span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: In @pre_test
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Running @test say_hello_1
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: In @post_test
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: In @pre_test
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: Running @test say_hello_2
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: In @post_test
</span></span><span class="z-source z-koto"><span class="z-comment z-line z-koto"><span class="z-punctuation z-definition z-comment z-koto">#</span>: `my_module` initialized
</span></span></code></pre>

  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%23%20my%5Fmodule%2Ekoto%20%23%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%0Aexport%20say%5Fhello%20%3D%20%7Cname%7C%20%27Hello%2C%20%7Bname%7D%21%27%0A%0A%40main%20%3D%20%7C%7C%20print%20%27%60my%5Fmodule%60%20initialized%27%0A%0A%40pre%5Ftest%20%3D%20%7C%7C%0A%20%20print%20%27In%20%40pre%5Ftest%27%0A%0A%40post%5Ftest%20%3D%20%7C%7C%0A%20%20print%20%27In%20%40post%5Ftest%27%0A%0A%40test%20say%5Fhello%5F1%20%3D%20%7C%7C%0A%20%20print%20%27Running%20%40test%20say%5Fhello%5F1%27%0A%20%20assert%5Feq%20say%5Fhello%28%27One%27%29%2C%20%27Hello%2C%20One%21%27%0A%0A%40test%20say%5Fhello%5F2%20%3D%20%7C%7C%0A%20%20print%20%27Running%20%40test%20say%5Fhello%5F2%27%0A%20%20assert%5Feq%20say%5Fhello%28%27Two%27%29%2C%20%27Hello%2C%20Two%21%27%0A%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%23%20%20%20other%2Ekoto%20%20%20%23%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%0Afrom%20my%5Fmodule%20import%20say%5Fhello%0A%23%3A%20In%20%40pre%5Ftest%0A%23%3A%20Running%20%40test%20say%5Fhello%5F1%0A%23%3A%20In%20%40post%5Ftest%0A%23%3A%20In%20%40pre%5Ftest%0A%23%3A%20Running%20%40test%20say%5Fhello%5F2%0A%23%3A%20In%20%40post%5Ftest%0A%23%3A%20%60my%5Fmodule%60%20initialized" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
<h3 id="running-tests-manually"><a class="zola-anchor" href="#running-tests-manually" aria-label="Anchor link for: running-tests-manually">Running Tests Manually</a></h3>
<p>Tests can be run manually by calling <a href="../core/test#run-tests"><code>test.run_tests</code></a>
with a map that contains <code>@test</code> functions.</p>
<pre data-lang="koto" class="language-koto z-code"><code class="language-koto" data-lang="koto"><span class="z-source z-koto"><span class="z-variable z-other z-koto">my_tests</span> <span class="z-keyword z-operator z-assignment z-koto">=</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@test</span><span class="z-entity z-name z-function z-koto"> add</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-keyword z-control z-flow z-assert z-koto">assert_eq</span> <span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-arithmetic z-koto">+</span> <span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">2</span>
</span><span class="z-source z-koto">  <span class="z-entity z-name z-koto">@test</span><span class="z-entity z-name z-function z-koto"> subtract</span><span class="z-punctuation z-separator z-koto">:</span> <span class="z-keyword z-other z-function-definition z-koto">|</span><span class="z-keyword z-other z-function-definition z-koto">|</span> <span class="z-keyword z-control z-flow z-assert z-koto">assert_eq</span> <span class="z-constant z-numeric z-koto">1</span> <span class="z-keyword z-operator z-arithmetic z-koto">-</span> <span class="z-constant z-numeric z-koto">1</span>, <span class="z-constant z-numeric z-koto">0</span>
</span><span class="z-source z-koto">
</span><span class="z-source z-koto"><span class="z-variable z-other z-koto">test</span>.<span class="z-variable z-function z-koto">run_tests</span> <span class="z-variable z-other z-koto">my_tests</span>
</span></code></pre>
<h2 id=""><a class="zola-anchor" href="#" aria-label="Anchor link for: ">
  


<div class="uk-text-right playground-link">
  <a class="uk-link-muted" href="/play/?script=my%5Ftests%20%3D%0A%20%20%40test%20add%3A%20%7C%7C%20assert%5Feq%201%20%2B%201%2C%202%0A%20%20%40test%20subtract%3A%20%7C%7C%20assert%5Feq%201%20%2D%201%2C%200%0A%0Atest%2Erun%5Ftests%20my%5Ftests" target="_blank">
    <span uk-icon="play"></span>
  </a>
</div>
</a></h2>
<p>You've made it to the end of the guide! If you spotted any mistakes, or noticed any sections that were less clear than you would have liked,
then please open an <a href="https://github.com/koto-lang/koto/issues">issue</a> or create a <a href="https://github.com/koto-lang/koto/pulls">PR</a>.</p>
<p>For further reading, take a look at docs for the <a href="../core">core library</a>, the <a href="../libs">extra libs</a>, or how Koto can be integrated into Rust applications in the <a href="../api">Rust API docs</a>.</p>







    </article>

    <section id="docs-search-results" hidden role="region" aria-live="polite" aria-label="Search results">
      <h2 id="docs-search-results-heading" tabindex="-1" class="uk-h4 uk-margin-small-top">Search Results</h2>
      <ul class="uk-list uk-list-divider uk-margin-remove" id="docs-results-list"></ul>
    </section>
  </div>
</div>



    <div id="mobile-nav" uk-offcanvas="overlay: true">
  <div class="uk-offcanvas-bar" id="mobile-nav-contents">
    <div uk-grid class="uk-grid-small">
      <a class="uk-link-muted uk-text-capitalize" href="/about">About</a>
      <a class="uk-link-muted uk-text-capitalize" href="/news">News</a>
    </div>

    <div uk-grid class="uk-grid-small">
      <a class="uk-link-muted uk-text-capitalize" href=/docs/0.16>Docs</a>
      <a class="uk-link-muted uk-text-capitalize" href=/play-0.16>Playground</a>
    </div>

    <div uk-grid class="uk-grid-small">
      <a class="uk-icon-link" uk-icon="discord" href="https://discord.gg/JeV8RuK4CT"></a>
      <a class="uk-icon-link" uk-icon="github" href="https://github.com/koto-lang/koto"></a>

      <a class="uk-icon-link light-switch" uk-icon="" id="light-switch-mobile-nav">
        <img class="light-switch-icon" id="light-switch-mobile-nav-icon"/>
      </a>
    </div>


    
<hr>


  <ul class="uk-nav uk-nav-default" id="docs-navbar">
  <div class="uk-hidden@s">
    

  
  
  






<meta name="docs-version" content="next">

<nav uk-dropnav>
  <div>Version: 0.17 (Unreleased)<span uk-drop-parent-icon></span></div>
  <div uk-dropdown="mode: click">
    <ul class="uk-nav uk-dropdown-nav">
      
        
        <li class=" uk-active ">
          <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;next&#x2F;language">0.17 (Unreleased)</a>
        </li>
      
        
        <li class="">
          <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;0.16&#x2F;language">0.16</a>
        </li>
      
        
        <li class="">
          <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;0.15&#x2F;language">0.15</a>
        </li>
      
        
        <li class="">
          <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;0.14&#x2F;language">0.14</a>
        </li>
      
        
        <li class="">
          <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;0.13&#x2F;language">0.13</a>
        </li>
      
    </ul>
  </div>
</nav>



<li class="uk-padding-small uk-padding-remove-horizontal">
  <form class="uk-search uk-search-default" onsubmit="return false;">
    <span uk-search-icon></span>
    <input id="docs-search-input" class="uk-search-input" type="search" placeholder="Search docs…" aria-label="Search"
      autocomplete="false">
  </form>
</li>



  </div>

  
  

  
    

    <li class="uk-nav-header uk-active ">
      <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;next&#x2F;language&#x2F;">
        Language Guide
      </a>
    </li>

    
      

      
        <ul class="uk-nav-sub uk-nav-default">
          
            
            <li>
              <a href="https://koto.dev/docs/next/language/#language-basics">Language Basics</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#lists">Lists</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#tuples">Tuples</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#strings">Strings</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#functions">Functions</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#maps">Maps</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#core-library">Core Library</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#conditional-expressions">Conditional Expressions</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#loops">Loops</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#iterators">Iterators</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#value-unpacking">Value Unpacking</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#ranges">Ranges</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#type-checks">Type Checks</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#string-formatting">String Formatting</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#advanced-functions">Advanced Functions</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#generators">Generators</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#objects-and-metamaps">Objects and Metamaps</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#error-handling">Error Handling</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#modules">Modules</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#testing">Testing</a>
            </li>
            
            <li>
              <a href="https://koto.dev/docs/next/language/#"></a>
            </li>
            
          
        </ul>
      
    
  
    

    <li class="uk-nav-header">
      <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;next&#x2F;core&#x2F;">
        Core Library
      </a>
    </li>

    
  
    

    <li class="uk-nav-header">
      <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;next&#x2F;api&#x2F;">
        Rust API
      </a>
    </li>

    
  
    

    <li class="uk-nav-header">
      <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;next&#x2F;libs&#x2F;">
        Extra Libs
      </a>
    </li>

    
  
    

    <li class="uk-nav-header">
      <a href="https:&#x2F;&#x2F;koto.dev&#x2F;docs&#x2F;next&#x2F;cli&#x2F;">
        Koto CLI
      </a>
    </li>

    
  
</ul>



      </div>
</div>


    
      <script type="module" src="/bundle/main-BziFg2rg.js"></script>
    
  </body>
</html>
