+++
title = "Koto 0.15"
template = "news/page.html"
authors = ["Ian Hobson"]
draft = true
+++

Koto 0.15 [has been released][crates], bringing new language features,
improved support for general purpose scripting, and runtime performance improvements.

### Koto?

Koto is a free and open-source programming language which aspires to be an
ideal scripting language for Rust applications.

If this is the first time you're reading about Koto, for some background
information you could take a look at the [About Koto][about] page,
or you could read the [language guide][guide].

### New in 0.15

#### Type Checks

The `let` keyword has been introduced for type-checked assignments:

```koto
# Assignments in Koto usually don't require a keyword
x = 5

# let assignments can include a type check:
let x: Number = 5
let y: String = 'hello!'
```

Additionally, type checks can be added anywhere that named values can be created:

```koto
extract_lines = |s: String| -> Tuple
  s.lines().to_tuple()

for i: Number, c: String in 'abc'.enumerate()
  print i, c
```

Type checks are performed at runtime, and will throw an error if the check fails.
For applications that want to use type checks only as tests in debug builds,
a runtime setting allows them to be disabled.

See [the guide's section on type checks][type-checks] for more information.

#### Option chaining

The `?` operator has been introduced be used to simplify expression chains where `null`
might be encountered as an intermediate value.

Fox example, given a map containing data:

```koto
info = {town: 'Hamburg', country: 'Germany'}
```

Before 0.15, if you wanted to get an optional value from the map and then perform an operation on the value, you would need to first access the value and then guard the operation with an `if` check:

```koto
# Without the `?` operator an intermediate step would be necessary:
country = info.get('country')
if country then country.to_uppercase() else null
# GERMANY
```

With option chaining, you can use the `?` operator to short-circuit the expression when `null` is encountered.

```koto
# `info` contains a value for 'town', which is then passed to to_uppercase():
info.get('town')?.to_uppercase()
# HAMBURG
info.get('state')?.to_uppercase()
# null
```

#### `os.command`

The core library now includes support for running external processes, making Koto more useful for general purpose scripting.

```koto
print os.command('ls')
  .args('-al', '/tmp')
  .wait_for_output()
  .stdout()
# ...
```

#### Performance improvements

Koto's runtime is significantly faster in 0.15 with benchmark improvements generally in the range of 15-30%.

Koto is also now single-threaded by default which has sped up runtime execution by a modest amount,
see [here][api-multi-threaded] for information on how to enable the multi-threaded runtime if needed.

### ...and more!

These are the highlights, see [here][changelog] for the full list of changes in 0.15.
Many thanks to the contributors who helped to make this release happen!

[about]: /about
[api-docs]: /docs/0.15/api
[api-multi-threaded]: ./api.md#using-the-multi-threaded-runtime
[changelog]: https://github.com/koto-lang/koto/blob/main/CHANGELOG.md#0150-unreleased
[crates]: https://crates.io/crates/koto/0.15.0
[guide]: /docs/0.15/language
[lib-docs]: /docs/0.15/libs
[type-checks]: /docs/0.15/language#type-checks
